---
title: Microsoft 365 監控及自我修復
ms.author: josephd
author: JoeDavies-MSFT
manager: laurawi
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
f1.keywords:
- NOCSH
description: Microsoft 365 監控及自我修復功能的相關資訊。
ms.openlocfilehash: 88338f722e8563c3db6573ac6ab64252cb98c450
ms.sourcegitcommit: 6e608d957082244d1b4ffb47942e5847ec18c0b9
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/01/2020
ms.locfileid: "44998760"
---
# <a name="microsoft-365-monitoring-and-self-healing"></a><span data-ttu-id="35f89-103">Microsoft 365 監控及自我修復</span><span class="sxs-lookup"><span data-stu-id="35f89-103">Microsoft 365 Monitoring and Self-Healing</span></span>

<span data-ttu-id="35f89-104">由於 Microsoft 365 規模的比例，使客戶資料保持彈性且安全，不需要內建監控，只是智慧化且具有快速且可靠的自我修復功能。</span><span class="sxs-lookup"><span data-stu-id="35f89-104">Given the scale of Microsoft 365, it would be impossible to keep customer data resilient and safe from malware without built-in monitoring that is comprehensive, alerting that is intelligent, and self-healing that is fast and reliable.</span></span> <span data-ttu-id="35f89-105">以 Microsoft 365 的比例監控一組服務是非常困難的。</span><span class="sxs-lookup"><span data-stu-id="35f89-105">Monitoring a set of services at the scale of Microsoft 365 is very challenging.</span></span> <span data-ttu-id="35f89-106">需要引進新的 mindsets 和方法，並在已連線的全域環境中建立新的技術集合，以進行操作及管理服務。</span><span class="sxs-lookup"><span data-stu-id="35f89-106">New mindsets and methodologies needed to be introduced, and whole new sets of technology needed to be created to operate and manage the service in a connected global environment.</span></span> <span data-ttu-id="35f89-107">我們已從傳統的監控方式收集資料集合及篩選，以建立以資料分析為基礎的方法提醒;在該資料中採取信號及建立信任，然後使用「自動化」來復原或解決問題。</span><span class="sxs-lookup"><span data-stu-id="35f89-107">We have moved away from the traditional monitoring approach of data collection and filtering to create alerts to an approach that is based on data analysis; taking signals and building confidence in that data and then using automation to recover or resolve the issue.</span></span> <span data-ttu-id="35f89-108">這種方法可協助您從復原方程式中移出，進而使作業執行成本變低、速度更快，且易出錯。</span><span class="sxs-lookup"><span data-stu-id="35f89-108">This approach helps take humans out of the recovery equation, which in turn makes operations less expensive, faster, and less error prone.</span></span> 

<span data-ttu-id="35f89-109">Microsoft 365 監控的基礎是一組技術集合，其中包含了資料洞察力引擎，該引擎是以 Azure、SQL Azure 及[開放來源流式資料庫技術](https://cassandra.apache.org/)為基礎。</span><span class="sxs-lookup"><span data-stu-id="35f89-109">Fundamental to Microsoft 365 monitoring is a collection of technologies that comprise our Data Insights Engine, which is built on Azure, SQL Azure, and [open-source streaming database technology](https://cassandra.apache.org/).</span></span> <span data-ttu-id="35f89-110">其設計目的是收集和匯總資料，並取得結論。</span><span class="sxs-lookup"><span data-stu-id="35f89-110">It is designed to collect and aggregate data and reach conclusions.</span></span> <span data-ttu-id="35f89-111">目前，它會在許多地區內，處理每小時500000000個以上的事件（每100000小時大約 15 TB）分散于數十個資料中心，而這些數位則不斷增加。</span><span class="sxs-lookup"><span data-stu-id="35f89-111">Currently, it processes more than 500 million events per hour from more than 100,000 servers (~15 TB per day) scattered across dozens of datacenters in many regions, and these numbers are growing.</span></span> 

<span data-ttu-id="35f89-112">Microsoft 365 使用*外部監控*，這包括建立綜合交易，以測試重要的內容。</span><span class="sxs-lookup"><span data-stu-id="35f89-112">Microsoft 365 uses *outside-in monitoring*, which involves creating synthetic transactions to test everything that is important.</span></span> <span data-ttu-id="35f89-113">例如，在 Exchange Online 中，每個案例會以分散的方式每隔五分鐘的時間來測試每個資料庫，以提供系統中所有專案的接近連續覆蓋率。</span><span class="sxs-lookup"><span data-stu-id="35f89-113">For example, in Exchange Online each scenario is testing every database worldwide every five minutes in a scattered fashion, providing near continuous coverage of everything that lives in the system.</span></span> <span data-ttu-id="35f89-114">從多個位置，每日250000000測試交易會執行，以建立服務的可靠基準或心跳。</span><span class="sxs-lookup"><span data-stu-id="35f89-114">From multiple locations, 250 million test transactions per day are performed to create a robust baseline or heartbeat for the service.</span></span> 

<span data-ttu-id="35f89-115">Microsoft 365 也會使用*紅色警示*的概念，它會將資料中心內所有機器的監控信號，向內部分縮小，以供人工管理。</span><span class="sxs-lookup"><span data-stu-id="35f89-115">Microsoft 365 also uses the concept of *Red Alert*, which shrinks down all the monitoring signals from all of the machines in our datacenters to something manageable by a human being.</span></span> <span data-ttu-id="35f89-116">此概念非常簡單：若有多個信號發生問題，則必須有一些問題。</span><span class="sxs-lookup"><span data-stu-id="35f89-116">The concept is quite simple: If something is happening across multiple signals, there must be something going on.</span></span> <span data-ttu-id="35f89-117">它不是要在一個信號中建立信任，因此，每個信號都有合理的逼真度，使您獲得更高的精確度。</span><span class="sxs-lookup"><span data-stu-id="35f89-117">It is not about building confidence in one signal, it is about having reasonable fidelity for each signal so that you get greater accuracy.</span></span> <span data-ttu-id="35f89-118">這個監視系統很強大，我們不會讓員工收看我們的監視器;我們所有的機器都是喚醒的機器，如果它偵測到問題，在這種情況下，它會向適當的呼叫人員進行尋呼，也就是在案例中，它會繼續並解決問題。</span><span class="sxs-lookup"><span data-stu-id="35f89-118">This monitoring system is so powerful that we do not have 24x7 staff watching our monitors; all we have is the machinery that wakes up if it detects a problem, in which case it will page the appropriate on-call personnel, or more often as is the case, it will just go ahead and solve the problem.</span></span> <span data-ttu-id="35f89-119">當我們開始收集信號，併發出紅色警示時，我們可以在所有的服務分割區中開始 triangulating。</span><span class="sxs-lookup"><span data-stu-id="35f89-119">Once we start collecting signals and building red alerts off them, we can start triangulating across all our service partitions.</span></span> 

<span data-ttu-id="35f89-120">此警示會根據失敗警示和紅色警示的組合，確切指出哪些元件可能出現問題，以及系統即將嘗試重新開機信箱伺服器以修正問題。</span><span class="sxs-lookup"><span data-stu-id="35f89-120">Based on the combination of the failure alert and the Red Alerts, this alert indicates exactly which components could be having a problem, and that the system is going to try to correct the problem by itself by restarting a mailbox server.</span></span> 

<span data-ttu-id="35f89-121">除了單一分頁還原之類的自我修復功能之外，Exchange Online 還包含多種功能，採用監控和自我修復的方法，主要是保留使用者體驗。</span><span class="sxs-lookup"><span data-stu-id="35f89-121">In addition to self-healing capabilities such as single page restore, Exchange Online includes several features that take an approach to monitoring and self-healing which focuses on preserving the end-user experience.</span></span> <span data-ttu-id="35f89-122">這些功能包括*受管理的可用性*，其可提供內建的監控和復原動作，以及 AutoReseed，它會在磁片故障後自動還原資料庫冗余。</span><span class="sxs-lookup"><span data-stu-id="35f89-122">These features include *Managed Availability*, which provides built-in monitoring and recovery actions, and AutoReseed, which automatically restores database redundancy after a disk failure.</span></span> 

## <a name="managed-availability"></a><span data-ttu-id="35f89-123">受管理的可用性</span><span class="sxs-lookup"><span data-stu-id="35f89-123">Managed Availability</span></span> 

<span data-ttu-id="35f89-124">受管理的可用性提供原始的健全狀況檢查和復原解決方案，可透過恢復導向的動作來監視和保護使用者的體驗。</span><span class="sxs-lookup"><span data-stu-id="35f89-124">Managed availability provides a native health checking and recovery solution that monitors and protects the end user's experience through recovery-oriented actions.</span></span> <span data-ttu-id="35f89-125">受管理的可用性是 Exchange 高可用性平臺的內建監控和復原動作整合。</span><span class="sxs-lookup"><span data-stu-id="35f89-125">Managed availability is the integration of built-in monitoring and recovery actions with the Exchange high availability platform.</span></span> <span data-ttu-id="35f89-126">其設計目的是在發生問題時立即偵測並修復，以供系統探索。</span><span class="sxs-lookup"><span data-stu-id="35f89-126">It's designed to detect and recover from problems as soon as they occur and are discovered by the system.</span></span> <span data-ttu-id="35f89-127">與舊版 Exchange 的外部監控解決方案和技術不同，受管理的可用性不會嘗試識別或傳達問題的根本原因。</span><span class="sxs-lookup"><span data-stu-id="35f89-127">Unlike previous external monitoring solutions and techniques for Exchange, managed availability doesn't try to identify or communicate the root cause of an issue.</span></span> <span data-ttu-id="35f89-128">相反地，其重點是針對下列三個主要使用者經驗方面的復原層面：</span><span class="sxs-lookup"><span data-stu-id="35f89-128">Instead, it's focused on recovery aspects that address three key areas of the end-user experience:</span></span>

- <span data-ttu-id="35f89-129">**可用性**–使用者是否可以存取服務？</span><span class="sxs-lookup"><span data-stu-id="35f89-129">**Availability** - Can users access the service?</span></span> 
- <span data-ttu-id="35f89-130">**延遲**-使用者的經驗如何？</span><span class="sxs-lookup"><span data-stu-id="35f89-130">**Latency** - How is the experience for users?</span></span> 
- <span data-ttu-id="35f89-131">**錯誤**-使用者是否可以完成所需的功能？</span><span class="sxs-lookup"><span data-stu-id="35f89-131">**Errors** - Are users able to accomplish what they want?</span></span> 

<span data-ttu-id="35f89-132">受管理的可用性是在每一部執行 Exchange Online 的 Microsoft 365 伺服器上執行的內部功能。</span><span class="sxs-lookup"><span data-stu-id="35f89-132">Managed availability is an internal feature that runs on every Microsoft 365 server running Exchange Online.</span></span> <span data-ttu-id="35f89-133">它會輪詢並分析每秒的數百個健康情況度量。</span><span class="sxs-lookup"><span data-stu-id="35f89-133">It polls and analyzes hundreds of health metrics every second.</span></span> <span data-ttu-id="35f89-134">如果發現有問題，大部分會自動修正。</span><span class="sxs-lookup"><span data-stu-id="35f89-134">If something is found to be wrong, most of the time it is fixed automatically.</span></span> <span data-ttu-id="35f89-135">但是，受管理的可用性一定會發生問題，但無法自行修復。</span><span class="sxs-lookup"><span data-stu-id="35f89-135">But there will always be issues that managed availability will not be able to fix on its own.</span></span> <span data-ttu-id="35f89-136">在這種情況下，受管理的可用性會透過事件記錄將問題提升至 Microsoft 365 支援小組。</span><span class="sxs-lookup"><span data-stu-id="35f89-136">In those cases, managed availability will escalate the issue to a Microsoft 365 support team by means of event logging.</span></span>

## <a name="autoreseed"></a><span data-ttu-id="35f89-137">AutoReseed</span><span class="sxs-lookup"><span data-stu-id="35f89-137">AutoReseed</span></span>

<span data-ttu-id="35f89-138">Exchange Online 伺服器部署在設定中，以將多個資料庫及其記錄資料流程儲存在相同的非 RAID 磁片上。</span><span class="sxs-lookup"><span data-stu-id="35f89-138">Exchange Online servers are deployed in a configuration that stores multiple databases and their log streams on the same non-RAID disk.</span></span> <span data-ttu-id="35f89-139">這項設定通常稱為*一組磁片*（JBOD），因為沒有任何儲存冗余機制（例如 RAID）是用來複製磁片上的資料。</span><span class="sxs-lookup"><span data-stu-id="35f89-139">This configuration is often referred to as *just a bunch of disks* (JBOD) because no storage redundancy mechanisms, such as RAID, are being used to duplicate the data on the disk.</span></span> <span data-ttu-id="35f89-140">當 JBOD 環境中的磁片失敗時，該磁片上的資料將會遺失。</span><span class="sxs-lookup"><span data-stu-id="35f89-140">When a disk fails in a JBOD environment, the data on that disk is lost.</span></span> 

<span data-ttu-id="35f89-141">考慮到 Exchange Online 的大小，而且在其內部部署的事實是數百萬磁片磁碟機，Exchange Online 中的一般情況下會發生磁片磁碟機故障。</span><span class="sxs-lookup"><span data-stu-id="35f89-141">Given the size of Exchange Online and the fact that deployed within it are millions of disk drives, disk drive failures are a regular occurrence in Exchange Online.</span></span> <span data-ttu-id="35f89-142">實際上，每日超過100的失敗。</span><span class="sxs-lookup"><span data-stu-id="35f89-142">In fact, more than 100 fail every day.</span></span> <span data-ttu-id="35f89-143">當內部部署企業部署中的磁片失敗時，系統管理員必須手動更換失敗的磁片並還原受影響的資料。</span><span class="sxs-lookup"><span data-stu-id="35f89-143">When a disk fails in an on-premises enterprise deployment, an administrator must manually replace the failed disk and restore the affected data.</span></span> <span data-ttu-id="35f89-144">在雲端部署中，Microsoft 365 的大小是以操作員（cloud administrators）手動取代磁片的方式，也不是切實可行或經濟可行的。</span><span class="sxs-lookup"><span data-stu-id="35f89-144">In a cloud deployment the size of Microsoft 365, having operators (cloud administrators) manually replacing disks is neither practical nor economically feasible.</span></span> 

<span data-ttu-id="35f89-145">自動重新植入（或*AutoReseed*）是一項功能，取代了操作員導向的動作，以回應磁片失敗、資料庫損毀事件或其他需要重新植入資料庫副本的問題。</span><span class="sxs-lookup"><span data-stu-id="35f89-145">Automatic Reseed, or *AutoReseed*, is a feature that is the replacement for what is normally operator-driven action in response to a disk failure, database corruption event, or other issue that necessitates a reseeding of a database copy.</span></span> <span data-ttu-id="35f89-146">AutoReseed 專為磁碟故障後，使用佈建在系統上的備用磁碟自動還原資料庫備援而設計。</span><span class="sxs-lookup"><span data-stu-id="35f89-146">AutoReseed is designed to automatically restore database redundancy after a disk failure by using spare disks that have been provisioned on the system.</span></span> <span data-ttu-id="35f89-147">磁片失敗時，儲存在該磁片上的資料庫副本會自動重新植入至伺服器上預先設定的備用磁片，進而還原冗余。</span><span class="sxs-lookup"><span data-stu-id="35f89-147">If a disk fails, the database copies stored on that disk are automatically reseeded to a preconfigured spare disk on the server, thereby restoring redundancy.</span></span> 