---
title: 使用基準與效能歷程記錄調整 Office 365 效能
ms.author: tracyp
author: MSFTTracyP
manager: laurawi
ms.date: 8/31/2017
audience: Admin
ms.topic: conceptual
ms.service: o365-administration
localization_priority: Normal
f1.keywords:
- CSH
ms.custom: Adm_O365
search.appverid:
- MET150
- MOE150
- BCS160
ms.assetid: 1492cb94-bd62-43e6-b8d0-2a61ed88ebae
ms.collection:
- M365-security-compliance
- Ent_O365
- SPO_Content
description: 您可以使用一些簡單的方法，檢查 Office 365 和您的公司之間的連線效能，讓您能夠建立更粗略的連線基準。 知道用戶端電腦連線的效能歷史記錄，可協助您及早偵測新興問題，找出並預測問題。
ms.openlocfilehash: ffccd9f5763d7d47dbb3aa02d3063582d1fa83cc
ms.sourcegitcommit: 4c519f054216c05c42acba5ac460fb9a821d6436
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/17/2020
ms.locfileid: "44774548"
---
# <a name="office-365-performance-tuning-using-baselines-and-performance-history"></a><span data-ttu-id="ea028-104">使用基準與效能歷程記錄調整 Office 365 效能</span><span class="sxs-lookup"><span data-stu-id="ea028-104">Office 365 performance tuning using baselines and performance history</span></span>

<span data-ttu-id="ea028-105">您可以使用一些簡單的方法，檢查 Office 365 和您的公司之間的連線效能，讓您能夠建立更粗略的連線基準。</span><span class="sxs-lookup"><span data-stu-id="ea028-105">There are some simple ways to check the connection performance between Office 365 and your business that will let you establish a rough baseline of your connectivity.</span></span> <span data-ttu-id="ea028-106">知道用戶端電腦連線的效能歷史記錄，可協助您及早偵測新興問題，找出並預測問題。</span><span class="sxs-lookup"><span data-stu-id="ea028-106">Knowing the performance history of your client computer connections can help you detect emerging issues early, identify, and predict problems.</span></span>
  
<span data-ttu-id="ea028-107">如果您不是用來處理效能問題，本文的設計是為了協助您考慮一些常見問題，如您如何知道您所看到的問題是效能問題，而不是 Office 365 服務事件？</span><span class="sxs-lookup"><span data-stu-id="ea028-107">If you're not used to working on performance issues, this article is designed to help you consider some common questions, like How do you know the problem you're seeing is a performance issue and not an Office 365 service incident?</span></span> <span data-ttu-id="ea028-108">您要如何規劃良好的效能，長期？</span><span class="sxs-lookup"><span data-stu-id="ea028-108">How can you plan for good performance, long term?</span></span> <span data-ttu-id="ea028-109">如何才能保持效能的效能？</span><span class="sxs-lookup"><span data-stu-id="ea028-109">How can you keep an eye on performance?</span></span> <span data-ttu-id="ea028-110">如果您的小組或用戶端在使用 Office 365 時看到效能較低的效能，而您想知道上述任何問題，請繼續閱讀。</span><span class="sxs-lookup"><span data-stu-id="ea028-110">If your team or clients are seeing slow performance while using Office 365, and you wonder about any of these questions, read on.</span></span>
  
> [!IMPORTANT]
> <span data-ttu-id="ea028-111">**現在您的用戶端與 Office 365 之間有效能問題嗎？**</span><span class="sxs-lookup"><span data-stu-id="ea028-111">**Have a performance issue between your client and Office 365 right now?**</span></span> <span data-ttu-id="ea028-112">遵循[Office 365 的性能疑難排解計畫](performance-troubleshooting-plan.md)中所述的步驟。</span><span class="sxs-lookup"><span data-stu-id="ea028-112">Follow the steps outlined in the [Performance troubleshooting plan for Office 365](performance-troubleshooting-plan.md).</span></span> 
    
## <a name="something-you-should-know-about-office-365-performance"></a><span data-ttu-id="ea028-113">您應該瞭解 Office 365 效能的相關事項</span><span class="sxs-lookup"><span data-stu-id="ea028-113">Something you should know about Office 365 performance</span></span>

<span data-ttu-id="ea028-114">Office 365 位於高容量、專用的 Microsoft 網路內，但不只是透過自動化，而是由實際人員監控。</span><span class="sxs-lookup"><span data-stu-id="ea028-114">Office 365 lives inside a high-capacity, dedicated Microsoft network that is steadily monitored not just by automation, but by real people.</span></span> <span data-ttu-id="ea028-115">維護 Office 365 雲端的一部分角色是建立基礎效能調整，並在可能的地方簡化。</span><span class="sxs-lookup"><span data-stu-id="ea028-115">Part of the role of maintaining the Office 365 cloud is building-in performance tuning and streamlining where it's possible.</span></span> <span data-ttu-id="ea028-116">由於 Office 365 雲端的用戶端必須透過網際網路連線，因此也會持續不斷地微調不同 Office 365 服務的效能。</span><span class="sxs-lookup"><span data-stu-id="ea028-116">Since clients of the Office 365 cloud have to connect across the Internet, there is a continuous effort to fine-tune the performance across Office 365 services too.</span></span> <span data-ttu-id="ea028-117">效能的增強功能永遠不會在雲端中停止，而且讓雲端保持良好和快速，有許多積累的經驗。</span><span class="sxs-lookup"><span data-stu-id="ea028-117">Performance improvements never really stop in the cloud, and there is a lot of accumulated experience with keeping the cloud healthy and quick.</span></span> <span data-ttu-id="ea028-118">如果您遇到效能問題，請從您的位置連線到 Office 365，最好不要從支援案例開始，也請稍候。</span><span class="sxs-lookup"><span data-stu-id="ea028-118">Should you experience a performance issue connecting from your location to Office 365, it's best not to start with, and wait on, a Support case.</span></span> <span data-ttu-id="ea028-119">相反地，您應該開始從 ' 內部向內」調查問題。</span><span class="sxs-lookup"><span data-stu-id="ea028-119">Instead, you should begin investigating the problem from 'the inside out'.</span></span> <span data-ttu-id="ea028-120">也就是說，請從您的網路內部開始，並以您的方式處理至 Office 365。</span><span class="sxs-lookup"><span data-stu-id="ea028-120">That is, start inside of your network, and work your way out to Office 365.</span></span> <span data-ttu-id="ea028-121">在您使用 Office 365 支援來開啟案例之前，您可以收集資料，並採取動作，以探索、可能解決問題。</span><span class="sxs-lookup"><span data-stu-id="ea028-121">Before you open a case with Office 365 Support, you can gather data and take actions that will explore, and may resolve, your problem.</span></span>
  
> [!IMPORTANT]
> <span data-ttu-id="ea028-122">請注意 Office 365 的容量規劃和限制。</span><span class="sxs-lookup"><span data-stu-id="ea028-122">Be aware of capacity planning and limits in Office 365.</span></span> <span data-ttu-id="ea028-123">當您嘗試解決效能問題時，該資訊會讓您排在曲線的上方。</span><span class="sxs-lookup"><span data-stu-id="ea028-123">That information will put you ahead of the curve when trying to resolve a performance issue.</span></span> <span data-ttu-id="ea028-124">以下是[Microsoft 365 和 Office 365 服務說明](https://docs.microsoft.com/office365/servicedescriptions/office-365-service-descriptions-technet-library)的連結。</span><span class="sxs-lookup"><span data-stu-id="ea028-124">Here's a link to the [Microsoft 365 and Office 365 service descriptions](https://docs.microsoft.com/office365/servicedescriptions/office-365-service-descriptions-technet-library).</span></span> <span data-ttu-id="ea028-125">這是中央中樞，Office 365 提供的所有服務都有從這裡移至其本身服務描述的連結。</span><span class="sxs-lookup"><span data-stu-id="ea028-125">This is a central hub, and all the services offered by Office 365 have a link that goes to their own Service Descriptions from here.</span></span> <span data-ttu-id="ea028-126">也就是說，您必須查看 SharePoint 線上的標準限制，例如，您可以按一下 [ [SharePoint 線上服務描述](https://technet.microsoft.com/library/sharepoint-online-service-description.aspx)] 並找到其 SharePoint 的「[線上限制」區段](https://go.microsoft.com/fwlink/p/?LinkID=856113)。</span><span class="sxs-lookup"><span data-stu-id="ea028-126">That means, should you need to see the standard limits for SharePoint Online, for example, you would click [SharePoint Online Service Description](https://technet.microsoft.com/library/sharepoint-online-service-description.aspx) and locate its [SharePoint Online Limits section](https://go.microsoft.com/fwlink/p/?LinkID=856113).</span></span> 
  
<span data-ttu-id="ea028-127">請務必進行疑難排解，以瞭解效能是可調式的比例，它不會讓 idealized 值變得永久保留（如果您認為這是如此，則偶爾會有大量使用者的高頻寬工作，或是大量資料移轉會非常緊張--因此，規劃效能會影響）。</span><span class="sxs-lookup"><span data-stu-id="ea028-127">Make sure you go into your troubleshooting with the understanding that performance is a sliding scale, it's not about achieving an idealized value and maintaining it permanently (if you believe this is so, then occasional high-bandwidth tasks like on-boarding a large number of users, or doing large data migrations will be very stressful -- so do plan for performance impacts then).</span></span> <span data-ttu-id="ea028-128">您可以，也應該會大致瞭解效能目標，但是許多變數在效能上會有許多作用，因此效能會不同。</span><span class="sxs-lookup"><span data-stu-id="ea028-128">You can, and should, have a rough idea of your performance targets, but a lot of variables play into performance, therefore, performance varies.</span></span> <span data-ttu-id="ea028-129">這就是效能的性質。</span><span class="sxs-lookup"><span data-stu-id="ea028-129">That's the nature of performance.</span></span> 
  
<span data-ttu-id="ea028-130">效能疑難排解不是會議特定目標，也不是以無限期維護這些數位，而是要在所有的變數中改進現有的活動。</span><span class="sxs-lookup"><span data-stu-id="ea028-130">Performance troubleshooting isn't about meeting specific goals and maintaining those numbers indefinitely, it's about improving existing activities, given all the variables.</span></span> 
  
## <a name="okay-what-does-a-performance-problem-look-like"></a><span data-ttu-id="ea028-131">沒關係，效能問題的外觀為何？</span><span class="sxs-lookup"><span data-stu-id="ea028-131">Okay, what does a performance problem look like?</span></span>

<span data-ttu-id="ea028-132">首先，您必須確定您所遇到的問題確實是效能問題，而不是服務事件。</span><span class="sxs-lookup"><span data-stu-id="ea028-132">First, you need to make sure that what you are experiencing is indeed a performance issue and not a service incident.</span></span> <span data-ttu-id="ea028-133">效能問題與 Office 365 中的服務事件不同。</span><span class="sxs-lookup"><span data-stu-id="ea028-133">A performance problem is different from a service incident in Office 365.</span></span> <span data-ttu-id="ea028-134">以下說明如何區分這些內容。</span><span class="sxs-lookup"><span data-stu-id="ea028-134">Here's how to tell them apart.</span></span>
  
<span data-ttu-id="ea028-135">如果 Office 365 服務存在問題，即為服務事件。</span><span class="sxs-lookup"><span data-stu-id="ea028-135">If the Office 365 service is having issues, that's a service incident.</span></span> <span data-ttu-id="ea028-136">您會在 Microsoft 365 系統管理中心的 [**目前健康情況**] 底下看到紅色或黃色圖示，您也可能會注意到在連線到 Office 365 的用戶端電腦上的效能較低。</span><span class="sxs-lookup"><span data-stu-id="ea028-136">You will see red or yellow icons under **Current health** in the Microsoft 365 admin center, you may also notice slow performance on client computers connecting to Office 365.</span></span> <span data-ttu-id="ea028-137">例如，如果目前的健全狀況報告紅色圖示，而且您在 Exchange 旁看到**調查**，您也可以從組織中的人員那裡收到一組呼叫，表示使用 Exchange Online 的用戶端信箱執行不當。</span><span class="sxs-lookup"><span data-stu-id="ea028-137">For example, if Current health reports a red icon and you see **Investigating** beside Exchange, you might then also receive a bunch of calls from people in your organization who complain that client mailboxes that use Exchange Online are performing badly.</span></span> <span data-ttu-id="ea028-138">在此情況下，假設您的 Exchange Online 效能只會成為服務內的問題受害者，是合理的。</span><span class="sxs-lookup"><span data-stu-id="ea028-138">In that case, it's reasonable to assume that your Exchange Online performance just became a victim of issues within the Service.</span></span> 
  
![Office 365 Health 儀表板，所有工作負載顯示綠色，除了 Exchange，顯示服務已還原。](media/ec7f0325-9e61-4e1a-bec0-64b87f4469be.PNG)
  
<span data-ttu-id="ea028-140">此時，Office 365 系統管理員應該檢查**目前的健全狀況**，然後**查看詳細資料和記錄**，以維持我們對系統所執行之維護的最新資訊。</span><span class="sxs-lookup"><span data-stu-id="ea028-140">At this point, you, the Office 365 admin, should check **Current health** and then **View details and history**, frequently, to keep up to date on maintenance we perform on the system.</span></span> <span data-ttu-id="ea028-141">**目前的健全狀況**儀表板是用來更新服務的變更和問題。</span><span class="sxs-lookup"><span data-stu-id="ea028-141">The **Current health** dashboard was made to update you about changes to, and problems in, the service.</span></span> <span data-ttu-id="ea028-142">在狀況歷史記錄中寫入的附注和說明，可協助您估量影響，並讓您在日常工作中順利發表。</span><span class="sxs-lookup"><span data-stu-id="ea028-142">The notes and explanations written to health history, admin to admin, are there to help you gauge your impact, and to keep you posted about ongoing work.</span></span> 
  
![Office 365 health 儀表板的圖片，說明 Exchange Online 服務已還原，以及原因。](media/66609554-426a-4448-8be6-ea09817f41ba.PNG)
  
<span data-ttu-id="ea028-144">效能問題並非服務事件，即使事件可能會導致效能降低。</span><span class="sxs-lookup"><span data-stu-id="ea028-144">A performance issue isn't a service incident, even though incidents can cause slow performance.</span></span> <span data-ttu-id="ea028-145">效能問題如下：</span><span class="sxs-lookup"><span data-stu-id="ea028-145">A performance issue looks like this:</span></span>
  
- <span data-ttu-id="ea028-146">不管服務的系統管理中心**目前狀況**為何，都會發生效能問題。</span><span class="sxs-lookup"><span data-stu-id="ea028-146">A performance issue occurs no matter what the admin center **Current health** is reporting for the service.</span></span> 
    
-  <span data-ttu-id="ea028-147">用於相對順暢的行為需要很長的時間才能完成，或是永不完成。</span><span class="sxs-lookup"><span data-stu-id="ea028-147">A behavior that used to be relatively seamless takes a long time to complete or never completes.</span></span> 
    
- <span data-ttu-id="ea028-148">您也可以複製問題; 至少，您也知道當您執行正確的步驟系列時，就會發生這種情況。</span><span class="sxs-lookup"><span data-stu-id="ea028-148">You can replicate the problem too, or, at least, you know it will happen if you do the right series of steps.</span></span>
    
-  <span data-ttu-id="ea028-149">如果問題為間歇性的，仍然會有一種方式，例如，您可以在 10:00 AM 的情況下，您會收到無法可靠存取 Office 365 之使用者的來電，且通話會在中午四周回繞。</span><span class="sxs-lookup"><span data-stu-id="ea028-149">If the problem is intermittent, there is still a pattern, for example, you know that by 10:00 AM you will have calls from users who can't reliably access Office 365, and that the calls will die down around noon.</span></span> 
    
<span data-ttu-id="ea028-150">這可能是常見的效果。可能過於熟悉。</span><span class="sxs-lookup"><span data-stu-id="ea028-150">This probably sounds familiar; maybe too familiar.</span></span> <span data-ttu-id="ea028-151">一旦您知道是效能問題，問題就會變成，「接下來該怎麼辦？」</span><span class="sxs-lookup"><span data-stu-id="ea028-151">Once you know it's a performance problem, the question becomes, "What do you do next?"</span></span> <span data-ttu-id="ea028-152">本文的其餘部分可協助您明確這項功能。</span><span class="sxs-lookup"><span data-stu-id="ea028-152">The rest of this article helps you determine exactly that.</span></span>
  
## <a name="how-to-define-and-test-the-performance-problem"></a><span data-ttu-id="ea028-153">如何定義及測試效能問題</span><span class="sxs-lookup"><span data-stu-id="ea028-153">How to define and test the performance problem</span></span>

<span data-ttu-id="ea028-154">效能問題通常會隨著時間而出現，所以定義實際問題可能很困難。</span><span class="sxs-lookup"><span data-stu-id="ea028-154">Performance issues often emerge over time, so it can be challenging to define the actual problem.</span></span> <span data-ttu-id="ea028-155">您必須建立良好的問題陳述及問題內容的良好構思，然後才需要可重複執行的測試步驟，以贏取一天。</span><span class="sxs-lookup"><span data-stu-id="ea028-155">You need to create a good problem statement and a good idea of issue context, and then you need to repeatable testing steps to win the day.</span></span> <span data-ttu-id="ea028-156">否則，您可能會遺失任何失敗的錯誤。</span><span class="sxs-lookup"><span data-stu-id="ea028-156">Otherwise, through no fault of your own, you may be lost.</span></span> <span data-ttu-id="ea028-157">為什麼？</span><span class="sxs-lookup"><span data-stu-id="ea028-157">Why?</span></span> <span data-ttu-id="ea028-158">以下是一些不提供足夠資訊的問題陳述範例：</span><span class="sxs-lookup"><span data-stu-id="ea028-158">Well, here are some examples of problems statements that don't provide enough information:</span></span>
  
- <span data-ttu-id="ea028-159">從 [我的收件匣] 切換到「我的行事曆」是我未注意到的問題，而且現在是一個咖啡的工碼。</span><span class="sxs-lookup"><span data-stu-id="ea028-159">Switching from my Inbox to my Calendar used to be something I didn't notice, and now it's a coffee-break.</span></span> <span data-ttu-id="ea028-160">您可以讓它像是用來做為作用嗎？</span><span class="sxs-lookup"><span data-stu-id="ea028-160">Can you make it act like it used to?</span></span>
    
- <span data-ttu-id="ea028-161">將我的檔案上傳至 SharePoint 線上時，會永遠採取行動。</span><span class="sxs-lookup"><span data-stu-id="ea028-161">Uploading my files to SharePoint Online is taking forever.</span></span> <span data-ttu-id="ea028-162">為何下午速度很慢，但其他時間卻很快？</span><span class="sxs-lookup"><span data-stu-id="ea028-162">Why is it slow in the afternoon, but any other time, it's fast?</span></span> <span data-ttu-id="ea028-163">這是否不是很快？</span><span class="sxs-lookup"><span data-stu-id="ea028-163">Can't it just be fast?</span></span>
    
<span data-ttu-id="ea028-164">上面的問題陳述可能會帶來許多大的挑戰。</span><span class="sxs-lookup"><span data-stu-id="ea028-164">There are several large challenges posed by the problem statements above.</span></span> <span data-ttu-id="ea028-165">具體而言，有許多含糊處的處理方式。</span><span class="sxs-lookup"><span data-stu-id="ea028-165">Specifically, there are a lot of ambiguities to deal with.</span></span> <span data-ttu-id="ea028-166">例如：</span><span class="sxs-lookup"><span data-stu-id="ea028-166">for example:</span></span>
  
- <span data-ttu-id="ea028-167">不清楚如何在收件匣和行事曆間切換，以用於可擕式電腦。</span><span class="sxs-lookup"><span data-stu-id="ea028-167">It's unclear how switching between Inbox and Calendar used to act on the laptop.</span></span>
    
- <span data-ttu-id="ea028-168">當使用者說「不再是最快」時，那是「快」？</span><span class="sxs-lookup"><span data-stu-id="ea028-168">When the user says, "Can't it just be fast", what's "fast"?</span></span>
    
- <span data-ttu-id="ea028-169">「永遠」多久？</span><span class="sxs-lookup"><span data-stu-id="ea028-169">How long is "forever"?</span></span> <span data-ttu-id="ea028-170">是幾秒（或幾分鐘），或是使用者可以前往午餐，在使用者回來之後10分鐘後會完成？</span><span class="sxs-lookup"><span data-stu-id="ea028-170">Is that several seconds, or minutes, or could the user go to lunch and it would finish up ten minutes after the user got back?</span></span>
    
<span data-ttu-id="ea028-171">所有此項工作並未考慮系統管理員和疑難排解程式無法察覺許多來自問題語句的詳細資料。</span><span class="sxs-lookup"><span data-stu-id="ea028-171">All of this is without considering that the admin and troubleshooter can't be aware of many details from problem statements like these.</span></span> <span data-ttu-id="ea028-172">例如，當問題開始發生時，使用者在家中的使用者運作，但在家用網路上只會看到慢速切換;使用者必須在本機用戶端上執行數個其他的 RAM 應用程式，或是使用者執行舊版作業系統或尚未執行最近的更新。</span><span class="sxs-lookup"><span data-stu-id="ea028-172">For example, when the problem started happening; That the user works from home and only ever sees slow switching while on a home network; That the user must run several other RAM intensive applications on the local client, or the user is running an older operating system or hasn't run recent updates.</span></span>
  
<span data-ttu-id="ea028-173">當使用者報告效能問題時，會收集大量資訊。</span><span class="sxs-lookup"><span data-stu-id="ea028-173">When users report a performance problem, there's a lot of information to collect.</span></span> <span data-ttu-id="ea028-174">收集此資訊是對問題進行範圍或進行調查的處理常式的一部分。</span><span class="sxs-lookup"><span data-stu-id="ea028-174">Collecting this information is part of a process called scoping the issue, or investigating it.</span></span> <span data-ttu-id="ea028-175">以下是您可以用來收集效能問題相關資訊的基本範圍清單。</span><span class="sxs-lookup"><span data-stu-id="ea028-175">The following is a basic scoping list you can use to collect information about your performance issue.</span></span> <span data-ttu-id="ea028-176">此清單並不詳盡，但它是啟動您自己的位置：</span><span class="sxs-lookup"><span data-stu-id="ea028-176">This list is not exhaustive, but it's a place to start one of your own:</span></span> 
  
- <span data-ttu-id="ea028-177">問題發生的日期，以及每天或夜間的時段為何？</span><span class="sxs-lookup"><span data-stu-id="ea028-177">On what date did the issue happen, and around what time of day or night?</span></span>
    
- <span data-ttu-id="ea028-178">您使用的是哪種用戶端電腦，以及它如何連線至商務網路（VPN、有線、無線）？</span><span class="sxs-lookup"><span data-stu-id="ea028-178">What kind of client computer were you using, and how does it connect to the business network (VPN, Wired, Wireless)?</span></span>
    
- <span data-ttu-id="ea028-179">您是在遠端工作，還是在 office 中？</span><span class="sxs-lookup"><span data-stu-id="ea028-179">Were you working remotely or were you in the office?</span></span>
    
- <span data-ttu-id="ea028-180">您在另一部電腦上嘗試相同的動作並看到相同的行為嗎？</span><span class="sxs-lookup"><span data-stu-id="ea028-180">Did you try the same actions on another computer and see the same behavior?</span></span>
    
- <span data-ttu-id="ea028-181">逐步引導您提供問題的步驟，讓您可以寫入您所要執行的動作。</span><span class="sxs-lookup"><span data-stu-id="ea028-181">Walk through the steps that are giving you the trouble so that you can write the actions you take down.</span></span>
    
- <span data-ttu-id="ea028-182">在幾秒或幾分鐘內效能的速度</span><span class="sxs-lookup"><span data-stu-id="ea028-182">How slow in seconds or minutes is the performance?</span></span>
    
- <span data-ttu-id="ea028-183">您在世界上的位置為何？</span><span class="sxs-lookup"><span data-stu-id="ea028-183">Where in the world are you located?</span></span>
    
<span data-ttu-id="ea028-184">有些問題比其他問題更為明顯。</span><span class="sxs-lookup"><span data-stu-id="ea028-184">Some of these questions are more obvious than others.</span></span> <span data-ttu-id="ea028-185">大多數的人都會瞭解疑難排解程式必須能夠再現問題的確切步驟。</span><span class="sxs-lookup"><span data-stu-id="ea028-185">Most everyone will understand a troubleshooter needs the exact steps to reproduce the issue.</span></span> <span data-ttu-id="ea028-186">畢竟，您如何錄製錯誤的內容，以及如果問題是否修正，其他如何進行測試？</span><span class="sxs-lookup"><span data-stu-id="ea028-186">After all, how else can you record what's wrong, and how else can you test if the issue is fixed?</span></span> <span data-ttu-id="ea028-187">不明顯的含義是「您看到問題的日期和時間為何？」和「世界上的何處？」，可讓您一起使用的資訊。</span><span class="sxs-lookup"><span data-stu-id="ea028-187">Less obvious are things like "What date and time did you see the issue?", and "Where in the world are you located?", information that can be used in tandem.</span></span> <span data-ttu-id="ea028-188">取決於使用者的運作時間，一小時的時間差可能意味著您公司網路的某些部分已經在進行維護。</span><span class="sxs-lookup"><span data-stu-id="ea028-188">Depending on when the user was working, a few hours of time difference may mean maintenance is already underway on parts of your company's network.</span></span> <span data-ttu-id="ea028-189">例如，如果貴公司有混合式的實施方式（如混合式 SharePoint 搜尋）可以同時在 SharePoint 線上和內部部署 SharePoint Server 2013 實例中查詢搜尋索引，則內部部署伺服器陣列中可能會進行更新。</span><span class="sxs-lookup"><span data-stu-id="ea028-189">If, for example, your company has a hybrid implementation, like a hybrid SharePoint Search, which can query search indexes in both SharePoint Online and an On-premises SharePoint Server 2013 instance, updates may be underway in the on-premises farm.</span></span> <span data-ttu-id="ea028-190">如果您的公司全都在雲端中，系統維護可能包括新增或移除網路硬體、推廣整個公司內的更新，或是對 DNS 或其他核心基礎結構進行變更。</span><span class="sxs-lookup"><span data-stu-id="ea028-190">If your company is all in the cloud, system maintenance may include adding or removing network hardware, rolling out updates that are company-wide, or making changes to DNS, or other core infrastructure.</span></span>
  
<span data-ttu-id="ea028-191">當您對效能問題進行疑難排解時，就像是犯罪的場景，您必須精確且 observant，才能從證據中支取任何結論。</span><span class="sxs-lookup"><span data-stu-id="ea028-191">When you're troubleshooting a performance problem, it's a bit like a crime scene, you need to be precise and observant to draw any conclusions from the evidence.</span></span> <span data-ttu-id="ea028-192">為了達到此目的，您必須收集證據，以取得良好的問題陳述。</span><span class="sxs-lookup"><span data-stu-id="ea028-192">In order to do this, you must get a good problem statement by gathering evidence.</span></span> <span data-ttu-id="ea028-193">它應包含電腦的內容、使用者的內容、問題的開始時間，以及公開效能問題的確切步驟。</span><span class="sxs-lookup"><span data-stu-id="ea028-193">It should include the computer's context, the user's context, when the problem began, and the exact steps that exposed the performance issue.</span></span> <span data-ttu-id="ea028-194">這項問題陳述應該在您的備註中，並停留在最上層的頁面上。</span><span class="sxs-lookup"><span data-stu-id="ea028-194">This problem statement should be, and stay, the topmost page in your notes.</span></span> <span data-ttu-id="ea028-195">在您處理解決方法後，請逐步檢查問題陳述，以測試及檢驗您採取的動作是否已解決問題。</span><span class="sxs-lookup"><span data-stu-id="ea028-195">By walking through the problem statement again after you work on the resolution, you are taking the steps to test and prove whether the actions you take have resolved the issue.</span></span> <span data-ttu-id="ea028-196">當您的工作完成時，這是很重要的。</span><span class="sxs-lookup"><span data-stu-id="ea028-196">This is critical to knowing when your work, there, is done.</span></span>
  
## <a name="do-you-know-how-performance-used-to-look-when-it-was-good"></a><span data-ttu-id="ea028-197">您是否知道效能如何用來查看效果為何？</span><span class="sxs-lookup"><span data-stu-id="ea028-197">Do you know how performance used to look when it was good?</span></span>

<span data-ttu-id="ea028-198">如果您是 unlucky，沒人知道。</span><span class="sxs-lookup"><span data-stu-id="ea028-198">If you're unlucky, nobody knows.</span></span> <span data-ttu-id="ea028-199">沒有人有數位。</span><span class="sxs-lookup"><span data-stu-id="ea028-199">Nobody had numbers.</span></span> <span data-ttu-id="ea028-200">這表示沒有人可以回答「大約多少秒是用來啟動 Office 365 中的收件匣」的簡易問題？」或「在主管有 Lync Online 會議時使用多久？」，這是許多公司的常見案例。</span><span class="sxs-lookup"><span data-stu-id="ea028-200">That means nobody can answer the simple question "About how many seconds did it used to take to bring up an Inbox in Office 365?", or "How long did it used to take when the Executives had a Lync Online meeting?", which is a common scenario for many companies.</span></span>
  
<span data-ttu-id="ea028-201">遺漏的是效能基準。</span><span class="sxs-lookup"><span data-stu-id="ea028-201">What's missing here is a performance baseline.</span></span>
  
<span data-ttu-id="ea028-202">基準可提供您效能的內容。</span><span class="sxs-lookup"><span data-stu-id="ea028-202">Baselines give you a context for your performance.</span></span> <span data-ttu-id="ea028-203">您應該經常採取基準，視公司的需求而定。</span><span class="sxs-lookup"><span data-stu-id="ea028-203">You should take a baseline occasionally to frequently, depending on the needs of your company.</span></span> <span data-ttu-id="ea028-204">如果您是較大的公司，您的作業小組可能會對您的內部部署環境採取基準。</span><span class="sxs-lookup"><span data-stu-id="ea028-204">If you are a larger company, your Operations team may take baselines for your on-premises environment already.</span></span> <span data-ttu-id="ea028-205">例如，如果您在當月的第一個星期一修補所有 Exchange 伺服器，而您在第三個星期一的所有 SharePoint 伺服器都有，您的作業團隊可能會有工作執行後的清單及案例，以證明重要功能可運作。</span><span class="sxs-lookup"><span data-stu-id="ea028-205">For example, if you patch all the Exchange servers on the first Monday of the month, and all your SharePoint servers on the third Monday, your Operations team probably has a list of tasks and scenarios it runs post-patching, to prove that critical functions are operational.</span></span> <span data-ttu-id="ea028-206">例如，開啟 [收件匣]，按一下 [傳送/接收]，並確定資料夾更新，或是在 SharePoint 中流覽網站的主版頁面、移至企業搜尋頁面，以及執行傳回結果的搜尋。</span><span class="sxs-lookup"><span data-stu-id="ea028-206">For example, opening the Inbox, clicking Send/Receive, and making sure the folders update, or, in SharePoint, browsing the main page of the site, going into the enterprise Search page, and doing a search that returns results.</span></span>
  
<span data-ttu-id="ea028-207">如果您的應用程式在 Office 365 中，您可以採取的一些最基本的基準，從網路內部的用戶端電腦、進入出局點，或是您離開網路並前往 Office 365 的點，來測量時間（毫秒）。</span><span class="sxs-lookup"><span data-stu-id="ea028-207">If your applications are in Office 365, some of the most fundamental baselines you can take measure the time (in milliseconds) from a client computer inside your network, to an egress point, or the point where you leave your network and go out to Office 365.</span></span> <span data-ttu-id="ea028-208">以下是一些您可以調查及錄製的有用基線：</span><span class="sxs-lookup"><span data-stu-id="ea028-208">Here are some helpful baselines that you can investigate and record:</span></span>
  
- <span data-ttu-id="ea028-209">識別用戶端電腦與您的出局點之間的裝置，例如 proxy 伺服器。</span><span class="sxs-lookup"><span data-stu-id="ea028-209">Identify the devices between your client computer and your egress point, for example, your proxy server.</span></span>
    
  - <span data-ttu-id="ea028-210">您必須知道您的裝置，這樣才會發生性能問題的內容（IP 位址、裝置類型等等）。</span><span class="sxs-lookup"><span data-stu-id="ea028-210">You need to know your devices so that you have context (IP addresses, type of device, et cetera) for performance problems that arise.</span></span>
    
  - <span data-ttu-id="ea028-211">Proxy 伺服器是常見的出局點，所以您可以檢查網頁瀏覽器，以查看其設定為使用哪個 proxy 伺服器（如果有的話）。</span><span class="sxs-lookup"><span data-stu-id="ea028-211">Proxy servers are common egress points, so you can check your web browser to see what proxy server it is set to use, if any.</span></span>
    
  - <span data-ttu-id="ea028-212">有協力廠商工具可以探索和對應您的網路，但是知道裝置的最安全方式是詢問網路小組的成員。</span><span class="sxs-lookup"><span data-stu-id="ea028-212">There are third party tools that can discover and map your network, but the safest way to know your devices is to ask a member of your network team.</span></span>
    
- <span data-ttu-id="ea028-213">識別您的網際網路服務提供者（ISP）、記下他們的連絡人資訊，並詢問您有多少頻寬。</span><span class="sxs-lookup"><span data-stu-id="ea028-213">Identify your Internet service provider (ISP), write down their contact information, and ask how many circuits how much bandwidth you have.</span></span>
    
- <span data-ttu-id="ea028-214">在您公司內，識別用戶端與出局點之間的裝置資源，或找出與網路問題相關之緊急連絡人。</span><span class="sxs-lookup"><span data-stu-id="ea028-214">Inside your company, identify resources for the devices between your client and the egress point, or identify an emergency contact to talk to about networking issues.</span></span>
    
<span data-ttu-id="ea028-215">以下是一些使用工具進行簡易測試的基準，可為您計算：</span><span class="sxs-lookup"><span data-stu-id="ea028-215">Here are some baselines that simple testing with tools can calculate for you:</span></span>
  
- <span data-ttu-id="ea028-216">從用戶端電腦到您的出局點的時間（毫秒）</span><span class="sxs-lookup"><span data-stu-id="ea028-216">Time from your client computer to your egress point in milliseconds</span></span>
    
- <span data-ttu-id="ea028-217">從您的出局點到 Office 365 的時間（毫秒）</span><span class="sxs-lookup"><span data-stu-id="ea028-217">Time from your egress point to Office 365 in milliseconds</span></span>
    
- <span data-ttu-id="ea028-218">伺服器世界中的位置，可在流覽時解析 Office 365 的 URL</span><span class="sxs-lookup"><span data-stu-id="ea028-218">Location in the world of the server that resolves the URLS for Office 365 when you browse</span></span>
    
- <span data-ttu-id="ea028-219">您的 ISP DNS 解析速度（毫秒）、封包到達中的不一致（網路抖動）、上傳和下載時間（毫秒）</span><span class="sxs-lookup"><span data-stu-id="ea028-219">The speed of your ISP's DNS resolution in milliseconds, inconsistencies in packet arrival (network jitter), upload and download times in milliseconds</span></span>
    
<span data-ttu-id="ea028-220">如果您不熟悉如何執行這些步驟，我們將在本文中深入瞭解詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="ea028-220">If you're unfamiliar with how to carry out these steps, we'll go into more detail in this article.</span></span> 
  
## <a name="what-is-a-baseline"></a><span data-ttu-id="ea028-221">何謂基準？</span><span class="sxs-lookup"><span data-stu-id="ea028-221">What is a baseline?</span></span>

<span data-ttu-id="ea028-222">您會知道影響是否不良，但如果您不知道您的歷史效能資料，就不可能有可能會有什麼損壞的內容，以及何時。</span><span class="sxs-lookup"><span data-stu-id="ea028-222">You'll know the impact when it goes bad, but if you don't know your historical performance data, it's not possible to have a context for how bad it may have become, and when.</span></span> <span data-ttu-id="ea028-223">所以若沒有基準，您就不會錯過解決謎題的主要線索：拼圖方塊上的圖片。</span><span class="sxs-lookup"><span data-stu-id="ea028-223">So without a baseline, you're missing the key clue to solve the puzzle: the picture on the puzzle box.</span></span> <span data-ttu-id="ea028-224">在效能疑難排解中，您需要有*比較*的點。</span><span class="sxs-lookup"><span data-stu-id="ea028-224">In performance troubleshooting, you need a point of  *comparison*  .</span></span> <span data-ttu-id="ea028-225">簡單的效能基準不會變得困難。</span><span class="sxs-lookup"><span data-stu-id="ea028-225">Simple performance baselines aren't difficult to take.</span></span> <span data-ttu-id="ea028-226">您的運作小組可以以排程的方式處理工作。</span><span class="sxs-lookup"><span data-stu-id="ea028-226">Your Operations team can be tasked with carrying these out on a schedule.</span></span> <span data-ttu-id="ea028-227">例如，假設您的連線如下所示：</span><span class="sxs-lookup"><span data-stu-id="ea028-227">For example, let's say your connection looks like this:</span></span> 
  
![顯示用戶端、proxy 和 Office 365 雲端的基本網狀圖形。](media/c6ca7140-09f9-4c2d-a775-dbf2820eaa0c.PNG)
  
<span data-ttu-id="ea028-229">這表示您已與您的網路小組核對，發現您已透過 proxy 伺服器讓公司成為網際網路，而且該 proxy 會處理用戶端電腦傳送至雲端的所有要求。</span><span class="sxs-lookup"><span data-stu-id="ea028-229">That means you've checked with your network team and found out that you leave your company for the Internet through a proxy server, and that proxy handles all the requests your client computer sends to the cloud.</span></span> <span data-ttu-id="ea028-230">在此情況下，您應該繪製簡化版本的連線，以列出所有介入的裝置。</span><span class="sxs-lookup"><span data-stu-id="ea028-230">In this case, you should draw a simplified version of your connection that lists all the intervening devices.</span></span> <span data-ttu-id="ea028-231">現在，您可以使用插入工具，在用戶端、出局點（您離開網際網路網路的地方）和 Office 365 雲端之間測試效能。</span><span class="sxs-lookup"><span data-stu-id="ea028-231">Now, insert tools that you can use to test the performance between the client, the egress point (where you leave your network for the Internet), and the Office 365 cloud.</span></span>
  
![具有用戶端、proxy 和雲端的基本網路，以及工具建議 PSPing、TraceTCP 及網路追蹤。](media/627bfb77-abf7-4ef1-bbe8-7f8cbe48e1d2.png)
  
<span data-ttu-id="ea028-233">因為您所需的專業人員數量可供您尋找效能資料，所以這些選項會列為**簡單**和**高級**。</span><span class="sxs-lookup"><span data-stu-id="ea028-233">The options are listed as **Simple** and **Advanced** because of the amount of expertise you need in order to find the performance data.</span></span> <span data-ttu-id="ea028-234">網路追蹤會花費很長的時間，與執行 PsPing 和 TraceTCP 等命令列工具類似。</span><span class="sxs-lookup"><span data-stu-id="ea028-234">A network trace will take a lot of time, compared to running command-line tools like PsPing and TraceTCP.</span></span> <span data-ttu-id="ea028-235">之所以選擇這兩個命令列工具，是因為它們不會使用 ICMP 封包，而是由 Office 365 封鎖，因為它們會以毫秒為單位，讓用戶端電腦或 proxy 伺服器（如果您有存取），而且會到達 Office 365。</span><span class="sxs-lookup"><span data-stu-id="ea028-235">These two command-line tools were chosen because they don't use ICMP packets, which will be blocked by Office 365, and because they give the time in milliseconds that it takes to leave the client computer, or proxy server (if you have access) and arrive at Office 365.</span></span> <span data-ttu-id="ea028-236">從一部電腦到另一部的每一個躍點，都是以時間值為結束，而且非常適合比較基準！</span><span class="sxs-lookup"><span data-stu-id="ea028-236">Each individual hop from one computer to another will end up with a time value, and that's great for baselines!</span></span> <span data-ttu-id="ea028-237">同樣重要的是，這些命令列工具可讓您將埠號碼新增至命令中，這是因為 Office 365 是透過埠443（此埠是由安全通訊端層級和傳輸層安全性（SSL 和 TLS）所使用的埠）進行通訊。</span><span class="sxs-lookup"><span data-stu-id="ea028-237">Just as importantly, these command-line tools allow you to add a port number onto the command, this is useful because Office 365 communicates over port 443, which is the port used by Secure Sockets Layer and Transport Layer Security (SSL and TLS).</span></span> <span data-ttu-id="ea028-238">不過，其他協力廠商工具可能是您的狀況的較佳解決方案。</span><span class="sxs-lookup"><span data-stu-id="ea028-238">However, other third-party tools may be better solutions for your situation.</span></span> <span data-ttu-id="ea028-239">Microsoft 不支援所有這些工具，因此，如果由於某些原因，您無法取得 PsPing 並 TraceTCP 運作，請使用類似 Netmon 的工具，移至網路追蹤。</span><span class="sxs-lookup"><span data-stu-id="ea028-239">Microsoft doesn't support all of these tools, so if, for some reason, you can't get PsPing and TraceTCP working, move on to a network trace with a tool like Netmon.</span></span> 
  
<span data-ttu-id="ea028-240">您可以在上班時間之前（也就是在大量使用期間）進行比較基準，然後再一次完成時間。</span><span class="sxs-lookup"><span data-stu-id="ea028-240">You can take a baseline before business hours, again during heavy use, and then again after hours.</span></span> <span data-ttu-id="ea028-241">這表示您的資料夾結構可能會在結尾的類似如下：</span><span class="sxs-lookup"><span data-stu-id="ea028-241">This means you may have a folder structure that looks a bit like this in the end:</span></span>
  
![提供將效能資料組織到資料夾之方法的圖形。](media/13e01ffa-f0f2-4d10-b89d-d5980ec89fae.png)
  
<span data-ttu-id="ea028-243">您也應該選取檔案的命名慣例。</span><span class="sxs-lookup"><span data-stu-id="ea028-243">You should also pick a naming convention your files.</span></span> <span data-ttu-id="ea028-244">以下為一些範例：</span><span class="sxs-lookup"><span data-stu-id="ea028-244">Here are some examples:</span></span>
  
- <span data-ttu-id="ea028-245">Feb_09_2015_9amPST_PerfBaseline_Netmon_ClientToEgress_Normal</span><span class="sxs-lookup"><span data-stu-id="ea028-245">Feb_09_2015_9amPST_PerfBaseline_Netmon_ClientToEgress_Normal</span></span>
    
- <span data-ttu-id="ea028-246">Jan_10_2015_3pmCST_PerfBaseline_PsPing_ClientToO365_bypassProxy_SLOW</span><span class="sxs-lookup"><span data-stu-id="ea028-246">Jan_10_2015_3pmCST_PerfBaseline_PsPing_ClientToO365_bypassProxy_SLOW</span></span>
    
- <span data-ttu-id="ea028-247">Feb_08_2015_2pmEST_PerfBaseline_BADPerf</span><span class="sxs-lookup"><span data-stu-id="ea028-247">Feb_08_2015_2pmEST_PerfBaseline_BADPerf</span></span>
    
- <span data-ttu-id="ea028-248">Feb_08_2015_8 30amEST_PerfBaseline_GoodPerf</span><span class="sxs-lookup"><span data-stu-id="ea028-248">Feb_08_2015_8-30amEST_PerfBaseline_GoodPerf</span></span>
    
<span data-ttu-id="ea028-249">有許多不同的方式可以做到這一點，但是使用 format **\<dateTime\>\<what's happening in the test\>** 是很好的開端。</span><span class="sxs-lookup"><span data-stu-id="ea028-249">There are lots of different ways to do this, but using the format **\<dateTime\>\<what's happening in the test\>** is a good place to start.</span></span> <span data-ttu-id="ea028-250">若要 diligent 這種情況，在您嘗試疑難排解問題時，會很有説明。</span><span class="sxs-lookup"><span data-stu-id="ea028-250">Being diligent about this will help a lot when you are trying to troubleshoot issues later.</span></span> <span data-ttu-id="ea028-251">稍後，您可以說「我在2月8日進行兩個追蹤，一個顯示好的效能，另一個顯示壞的，所以我們可以進行比較」。</span><span class="sxs-lookup"><span data-stu-id="ea028-251">Later, you'll be able to say "I took two traces on February 8th, one showed good performance and one showed bad, so we can compare them".</span></span> <span data-ttu-id="ea028-252">這對於疑難排解非常有用。</span><span class="sxs-lookup"><span data-stu-id="ea028-252">This is extremely helpful for troubleshooting.</span></span> 
  
<span data-ttu-id="ea028-253">您必須有一種組織好的方式來保留歷史比較基準。</span><span class="sxs-lookup"><span data-stu-id="ea028-253">You need to have an organized way to keep your historical baselines.</span></span> <span data-ttu-id="ea028-254">在此範例中，會產生三個命令列輸出和結果的簡單方法，都是以螢幕擷取畫面形式收集，但您可能會改用網路捕獲檔案。</span><span class="sxs-lookup"><span data-stu-id="ea028-254">In this example, the simple methods produced three command line outputs and the results were collected as screen shots, but you may have network capture files instead.</span></span> <span data-ttu-id="ea028-255">請使用最適合您的方法。</span><span class="sxs-lookup"><span data-stu-id="ea028-255">Use the method that works best for you.</span></span> <span data-ttu-id="ea028-256">儲存您的歷史基準，並在您注意到線上服務行為的變更點加以參考。</span><span class="sxs-lookup"><span data-stu-id="ea028-256">Store your historical baselines and refer to them at points where you notice changes in the behavior of online services.</span></span> 
  
## <a name="why-collect-performance-data-during-a-pilot"></a><span data-ttu-id="ea028-257">為何在試驗期間收集效能資料？</span><span class="sxs-lookup"><span data-stu-id="ea028-257">Why collect performance data during a pilot?</span></span>

<span data-ttu-id="ea028-258">在試用 Office 365 服務的過程中，開始製作基準的時間並不是更好。</span><span class="sxs-lookup"><span data-stu-id="ea028-258">There is no better time to start making baselines than during a pilot of the Office 365 service.</span></span> <span data-ttu-id="ea028-259">您的 office 可能有成千上萬的使用者、成百上千的使用者，或者可能有五個，但甚至只有少數使用者，您可以執行測試來測量效能的波動。</span><span class="sxs-lookup"><span data-stu-id="ea028-259">Your office may have thousands of users, hundreds of thousands, or it may have five, but even with a small number of users, you can perform tests to measure fluctuations in performance.</span></span> <span data-ttu-id="ea028-260">在大型公司的案例中，有數個使用者試驗 Office 365 的代表性範例可向外投影到數千位，這樣您就會知道問題可能發生的地方。</span><span class="sxs-lookup"><span data-stu-id="ea028-260">In the case of a large company, a representative sample of several hundred users piloting Office 365 can be projected outward to several thousands so you know where issues might arise before they happen.</span></span>
  
<span data-ttu-id="ea028-261">在小型公司的情況下，[！注意事項] 表示所有使用者同時移至服務，而且沒有試驗，請保留效能測量，讓您有資料向任何可能需要疑難排解執行不當作業的人員顯示。</span><span class="sxs-lookup"><span data-stu-id="ea028-261">In the case of a small company, where on-boarding means that all users go to the service at the same time and there is no pilot, keep performance measures so that you have data to show to anyone who may have to troubleshoot a badly performing operation.</span></span> <span data-ttu-id="ea028-262">例如，如果您發現所有突然的使用者都可以在上傳所用的大中型圖形時所花費的時間，在這段時間內，您可以逐步進行您的大樓。</span><span class="sxs-lookup"><span data-stu-id="ea028-262">For example, if you notice that all of a sudden you can walk around your building in the time it takes to upload a medium-sized graphic where it used to happen very quickly.</span></span>
  
## <a name="how-to-collect-baselines"></a><span data-ttu-id="ea028-263">如何收集基線</span><span class="sxs-lookup"><span data-stu-id="ea028-263">How to collect baselines</span></span>

<span data-ttu-id="ea028-264">針對所有疑難排解計畫，您必須至少識別下列專案：</span><span class="sxs-lookup"><span data-stu-id="ea028-264">For all troubleshooting plans you need to identify these things at a minimum:</span></span>
  
- <span data-ttu-id="ea028-265">您正在使用的用戶端電腦（電腦或裝置的類型、IP 位址，以及導致問題的動作）</span><span class="sxs-lookup"><span data-stu-id="ea028-265">The client computer you're using (the type of computer or device, an IP address, and the actions that caused the issue)</span></span>
    
- <span data-ttu-id="ea028-266">用戶端電腦在世界上的位置（例如，在網路上的此使用者，在遠端運作，或在公司內部網路上運作）</span><span class="sxs-lookup"><span data-stu-id="ea028-266">Where the client computer is located in the world (for example, whether this user on a VPN to the network, working remotely, or on the company intranet)</span></span>
    
- <span data-ttu-id="ea028-267">用戶端電腦從您的網路使用的外送點（流量是指流量為 ISP 或網際網路留下您的公司）</span><span class="sxs-lookup"><span data-stu-id="ea028-267">The egress point the client computer uses from your network (the point at which traffic leaves your business for an ISP or the Internet)</span></span>
    
 <span data-ttu-id="ea028-268">您可以從網路系統管理員那裡瞭解網路的版面配置。</span><span class="sxs-lookup"><span data-stu-id="ea028-268">You can find out the layout of your network from the network administrator.</span></span> <span data-ttu-id="ea028-269">如果您是在小型網路上，請參閱連線至網際網路的裝置，如果您有關于版面配置的問題，請致電您的 ISP。</span><span class="sxs-lookup"><span data-stu-id="ea028-269">If you're on a small network, take a look at the devices connecting you to the Internet, and call your ISP if you have questions about the layout.</span></span> <span data-ttu-id="ea028-270">建立參考的最終版面配置圖形。</span><span class="sxs-lookup"><span data-stu-id="ea028-270">Create a graphic of the final layout for your reference.</span></span> 
  
<span data-ttu-id="ea028-271">本節會分成簡單的命令列工具和方法，以及更多的高級工具選項。</span><span class="sxs-lookup"><span data-stu-id="ea028-271">This section is broken into simple command-line tools and methods, and more advanced tools options.</span></span> <span data-ttu-id="ea028-272">我們將先涵蓋簡單的方法。</span><span class="sxs-lookup"><span data-stu-id="ea028-272">We'll cover simple methods first.</span></span> <span data-ttu-id="ea028-273">不過，如果您現在已經有效能問題，您應該會跳至高級方法，並嘗試執行「效能-疑難排解」的範例計畫。</span><span class="sxs-lookup"><span data-stu-id="ea028-273">But if you've got a performance problem right now, you should jump to advanced methods and try out the sample performance-troubleshooting action plan.</span></span>
  
### <a name="simple-methods"></a><span data-ttu-id="ea028-274">簡單方法</span><span class="sxs-lookup"><span data-stu-id="ea028-274">Simple methods</span></span>

<span data-ttu-id="ea028-275">這些簡單方法的目標是瞭解如何在一段時間內取得、瞭解及正確地儲存簡單的效能基準，以告知您 Office 365 效能。</span><span class="sxs-lookup"><span data-stu-id="ea028-275">The objective of these simple methods is to learn to take, understand, and properly store simple performance baselines over time so that you are informed about Office 365 performance.</span></span> <span data-ttu-id="ea028-276">以下是簡單的簡易圖表，如下所示：</span><span class="sxs-lookup"><span data-stu-id="ea028-276">Here's the very simple diagram for simple, as you've seen before:</span></span>
  
![具有用戶端、proxy 和雲端的基本網路，以及工具建議 PSPing、TraceTCP 及網路追蹤。](media/627bfb77-abf7-4ef1-bbe8-7f8cbe48e1d2.png)
  
> [!NOTE]
> <span data-ttu-id="ea028-278">TraceTCP 會包含在這個螢幕擷取畫面中，因為這是一個有用的工具，可顯示要求處理的時間長度，以及要求到達目的地所需的網路躍點數目，或一部電腦的連線數目。</span><span class="sxs-lookup"><span data-stu-id="ea028-278">TraceTCP is included in this screen shot because it's a useful tool for showing, in milliseconds, how long a request takes to process, and how many network hops, or connections from one computer to the next, that the request takes to reach a destination.</span></span> <span data-ttu-id="ea028-279">TraceTCP 也可以提供躍點期間所使用的伺服器名稱，這對 Microsoft Office 365 疑難排解程式（支援）很有用。</span><span class="sxs-lookup"><span data-stu-id="ea028-279">TraceTCP can also give the names of servers used during hops, which can be useful to a Microsoft Office 365 troubleshooter in Support.</span></span> <span data-ttu-id="ea028-280">> TraceTCP 命令可能非常簡單，例如： > `tracetcp.exe outlook.office365.com:443`> 請記得在命令中包含埠號碼！</span><span class="sxs-lookup"><span data-stu-id="ea028-280">> TraceTCP commands can be very simple, such as: >  `tracetcp.exe outlook.office365.com:443`> Remember to include the port number in the command!</span></span><span data-ttu-id="ea028-281"> > [TraceTCP](https://simulatedsimian.github.io/tracetcp_download.html)是免費下載，但依賴 Wincap。</span><span class="sxs-lookup"><span data-stu-id="ea028-281"> > [TraceTCP](https://simulatedsimian.github.io/tracetcp_download.html) is a free download, but relies on Wincap.</span></span> <span data-ttu-id="ea028-282">Wincap 是一種工具，也就是由 Netmon 使用及安裝。</span><span class="sxs-lookup"><span data-stu-id="ea028-282">Wincap is a tool that is also used and installed by Netmon.</span></span> <span data-ttu-id="ea028-283">我們也會在 [高級方法] 區段中使用 Netmon。</span><span class="sxs-lookup"><span data-stu-id="ea028-283">We also use Netmon in the advanced methods section.</span></span> 
  
 <span data-ttu-id="ea028-284">如果您有多個辦公室，您也需要在每個位置保留一套來自用戶端的資料。</span><span class="sxs-lookup"><span data-stu-id="ea028-284">If you have multiple offices, you'll need to keep a set of data from a client in each of those locations as well.</span></span> <span data-ttu-id="ea028-285">此項測試會度量延遲，在此情況下，它是一個數值，它會描述用戶端向 Office 365 傳送要求與 Office 365 回應要求之間的時間長度。</span><span class="sxs-lookup"><span data-stu-id="ea028-285">This test measures latency, which, in this case, is a number value that describes the amount of time between a client sending a request to Office 365, and Office 365 responding to the request.</span></span> <span data-ttu-id="ea028-286">測試來源於用戶端電腦上的網域，並尋找從網路內部、透過出口點到 Office 365 的來回行程，以及回復。</span><span class="sxs-lookup"><span data-stu-id="ea028-286">The testing originates inside your domain on a client computer, and looks to measure a round trip from inside your network, out through an egress point, across the Internet to Office 365, and back.</span></span> 
  
<span data-ttu-id="ea028-287">有幾種方式可以處理出局點，在此例中為 proxy 伺服器。</span><span class="sxs-lookup"><span data-stu-id="ea028-287">There are a few ways to deal with the egress point, in this case, the proxy server.</span></span> <span data-ttu-id="ea028-288">您可以從1到2，然後是2到3，然後以毫秒為單位新增數位，以取得網路 edge 的最後總量。</span><span class="sxs-lookup"><span data-stu-id="ea028-288">You can either trace from 1 to 2 and then 2 to 3, and then add the numbers in milliseconds to get a final total to the edge of your network.</span></span> <span data-ttu-id="ea028-289">或者，您可以設定為繞過 Office 365 位址 proxy 的連線。</span><span class="sxs-lookup"><span data-stu-id="ea028-289">Or, you can configure the connection to bypass the proxy for Office 365 addresses.</span></span> <span data-ttu-id="ea028-290">在具有防火牆、反向 proxy 或兩者的某些組合的大型網路中，您可能需要在 proxy 伺服器上產生例外狀況，以允許流量通過大量 URLs。</span><span class="sxs-lookup"><span data-stu-id="ea028-290">In a larger network with a firewall, reverse proxy, or some combination of the two, you may need to make exceptions on the proxy server that will allow traffic to pass for a lot of URLs.</span></span> <span data-ttu-id="ea028-291">如需 Office 365 使用的端點清單，請參閱[office 365 URLs 及 IP 位址範圍](https://support.office.com/article/8548a211-3fe7-47cb-abb1-355ea5aa88a2)。</span><span class="sxs-lookup"><span data-stu-id="ea028-291">For the list of endpoints used by Office 365, see [Office 365 URLs and IP address ranges](https://support.office.com/article/8548a211-3fe7-47cb-abb1-355ea5aa88a2).</span></span> <span data-ttu-id="ea028-292">如果您有驗證 proxy，請從測試下列專案的例外狀況開始：</span><span class="sxs-lookup"><span data-stu-id="ea028-292">If you have an authenticating proxy, begin by testing exceptions for the following:</span></span>
  
- <span data-ttu-id="ea028-293">埠80和443</span><span class="sxs-lookup"><span data-stu-id="ea028-293">Ports 80 and 443</span></span>
    
- <span data-ttu-id="ea028-294">TCP 和 HTTPs</span><span class="sxs-lookup"><span data-stu-id="ea028-294">TCP and HTTPs</span></span>
    
- <span data-ttu-id="ea028-295">輸出至下列任何 URLs 的連線：</span><span class="sxs-lookup"><span data-stu-id="ea028-295">Connections that are outbound to any of these URLs:</span></span>
    
- <span data-ttu-id="ea028-296">\*。 microsoftonline.com</span><span class="sxs-lookup"><span data-stu-id="ea028-296">\*.microsoftonline.com</span></span>
    
- <span data-ttu-id="ea028-297">\*。 microsoftonline-p.com</span><span class="sxs-lookup"><span data-stu-id="ea028-297">\*.microsoftonline-p.com</span></span>
    
- <span data-ttu-id="ea028-298">\*.sharepoint.com</span><span class="sxs-lookup"><span data-stu-id="ea028-298">\*.sharepoint.com</span></span>
    
- <span data-ttu-id="ea028-299">\*。 outlook.com</span><span class="sxs-lookup"><span data-stu-id="ea028-299">\*.outlook.com</span></span>
    
- <span data-ttu-id="ea028-300">\*。 lync.com</span><span class="sxs-lookup"><span data-stu-id="ea028-300">\*.lync.com</span></span>
    
- <span data-ttu-id="ea028-301">osub.microsoft.com</span><span class="sxs-lookup"><span data-stu-id="ea028-301">osub.microsoft.com</span></span>
    
<span data-ttu-id="ea028-302">所有使用者都必須允許取得這些位址，而不需要任何 proxy 干擾或驗證。</span><span class="sxs-lookup"><span data-stu-id="ea028-302">All users need to be allowed to get to these addresses without any proxy interference or authentication.</span></span> <span data-ttu-id="ea028-303">在小型網路上，您應該將這些專案新增至網頁瀏覽器中的 proxy 旁路清單。</span><span class="sxs-lookup"><span data-stu-id="ea028-303">On a smaller network, you should add these to your proxy bypass list in your web browser.</span></span> 
  
<span data-ttu-id="ea028-304">若要在 Internet Explorer 中將這些專案新增至 proxy 旁路清單，請移至**工具** \> **網際網路選項** \> **Connections** \> **LAN 設定** \> **Advanced**。</span><span class="sxs-lookup"><span data-stu-id="ea028-304">To add these to your proxy bypass list in Internet Explorer, go to **Tools** \> **Internet Options** \> **Connections** \> **LAN settings** \> **Advanced**.</span></span> <span data-ttu-id="ea028-305">[高級] 索引標籤也可用於找到您的 proxy 伺服器和 proxy 伺服器埠。</span><span class="sxs-lookup"><span data-stu-id="ea028-305">The advanced tab is also where you will find your proxy server and proxy server port.</span></span> <span data-ttu-id="ea028-306">您可能需要按一下 [**使用 LAN 的 proxy 伺服器**] 核取方塊，即可存取 [**高級**] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="ea028-306">You may need to click the checkbox **Use a proxy server for your LAN**, to access the **Advanced** button.</span></span> <span data-ttu-id="ea028-307">您將會想要確定已檢查**過本機位址的 [不使用 proxy 伺服器**]。</span><span class="sxs-lookup"><span data-stu-id="ea028-307">You'll want to make sure that **Bypass proxy server for local addresses** is checked.</span></span> <span data-ttu-id="ea028-308">按一下 [**高級**] 後，您會看到一個文字方塊，您可以在其中輸入例外狀況。</span><span class="sxs-lookup"><span data-stu-id="ea028-308">Once you click **Advanced**, you'll see a text box where you can enter exceptions.</span></span> <span data-ttu-id="ea028-309">使用分號分隔以上所列的萬用字元 URLs，例如：</span><span class="sxs-lookup"><span data-stu-id="ea028-309">Separate the wildcard URLs listed above with semi-colons, for example:</span></span>
  
<span data-ttu-id="ea028-310">\*microsoftonline.com;\*。 sharepoint.com</span><span class="sxs-lookup"><span data-stu-id="ea028-310">\*.microsoftonline.com; \*.sharepoint.com</span></span>
  
<span data-ttu-id="ea028-311">略過 proxy 之後，您應該可以直接在 Office 365 URL 上使用 ping 或 PsPing。</span><span class="sxs-lookup"><span data-stu-id="ea028-311">Once you bypass your proxy, you should be able to use ping or PsPing directly on an Office 365 URL.</span></span> <span data-ttu-id="ea028-312">下一個步驟就是測試 ping **outlook.office365.com**。</span><span class="sxs-lookup"><span data-stu-id="ea028-312">The next step will be to test ping **outlook.office365.com**.</span></span> <span data-ttu-id="ea028-313">或者，如果您是使用 PsPing 或另一個工具，讓您在命令中提供埠號碼，請 PsPing for **portal.microsoftonline.com:443** ，以查看平均的來回行程時間（以毫秒為單位）。</span><span class="sxs-lookup"><span data-stu-id="ea028-313">Or, if you're using PsPing or another tool that will let you supply a port number to the command, PsPing against **portal.microsoftonline.com:443** to see the average round trip time in milliseconds.</span></span> 
  
<span data-ttu-id="ea028-314">來回行程時間（或 RTT）是一個數值，用來測量傳送 HTTP 要求給伺服器（如 outlook.office365.com）的時間，並取得回應，以確認伺服器知道您已執行。</span><span class="sxs-lookup"><span data-stu-id="ea028-314">The round trip time, or RTT, is a number value that measures how long it takes to send a HTTP request to a server like outlook.office365.com and get a response back that acknowledges the server knows that you did it.</span></span> <span data-ttu-id="ea028-315">您有時會看到此縮寫為 RTT。</span><span class="sxs-lookup"><span data-stu-id="ea028-315">You'll sometimes see this abbreviated as RTT.</span></span> <span data-ttu-id="ea028-316">這應該是相對短的時間量。</span><span class="sxs-lookup"><span data-stu-id="ea028-316">This should be a relatively short amount of time.</span></span>
  
<span data-ttu-id="ea028-317">您必須使用[PSPing](https://technet.microsoft.com/sysinternals/jj729731.aspx)或其他不使用 Office 365 所封鎖之 ICMP 封包的工具，才能執行此測試。</span><span class="sxs-lookup"><span data-stu-id="ea028-317">You have to use [PSPing](https://technet.microsoft.com/sysinternals/jj729731.aspx) or another tool that does not use ICMP packets which are blocked by Office 365 in order to do this test.</span></span> 
  
 <span data-ttu-id="ea028-318">**如何使用 PsPing 直接從 Office 365 URL 取得整體來回行程時間（以毫秒為單位）**</span><span class="sxs-lookup"><span data-stu-id="ea028-318">**How to use PsPing to get an overall round trip time in milliseconds directly from an Office 365 URL**</span></span>
  
1. <span data-ttu-id="ea028-319">完成下列步驟以執行提升許可權的命令提示字元：</span><span class="sxs-lookup"><span data-stu-id="ea028-319">Run an elevated command prompt by completing these steps:</span></span>
    
1. <span data-ttu-id="ea028-320">按一下 **[開始]**。</span><span class="sxs-lookup"><span data-stu-id="ea028-320">Click **Start**.</span></span>
    
2. <span data-ttu-id="ea028-321">在 [**開始搜尋**] 方塊中，輸入 cmd，然後按 CTRL+SHIFT+ENTER。</span><span class="sxs-lookup"><span data-stu-id="ea028-321">In the **Start Search** box, type cmd, and then press CTRL+SHIFT+ENTER.</span></span>
    
3. <span data-ttu-id="ea028-322">如果出現 [**使用者帳戶控制**] 對話方塊，請確認顯示的動作為您想要的動作，然後按一下 [**繼續**]。</span><span class="sxs-lookup"><span data-stu-id="ea028-322">If the **User Account Control** dialog box appears, confirm that the action it displays is what you want, and then click **Continue**.</span></span>
    
2. <span data-ttu-id="ea028-323">流覽至安裝工具（在此案例中為 PsPing）的資料夾，並測試這些 Office 365 URLs：</span><span class="sxs-lookup"><span data-stu-id="ea028-323">Navigate to the folder where the tool (in this case PsPing) is installed and test these Office 365 URLs:</span></span>
    
  - <span data-ttu-id="ea028-324">psping portal.office.com:443</span><span class="sxs-lookup"><span data-stu-id="ea028-324">psping portal.office.com:443</span></span>
    
  - <span data-ttu-id="ea028-325">psping microsoft-my.sharepoint.com:443</span><span class="sxs-lookup"><span data-stu-id="ea028-325">psping microsoft-my.sharepoint.com:443</span></span>
    
  - <span data-ttu-id="ea028-326">psping outlook.office365.com:443</span><span class="sxs-lookup"><span data-stu-id="ea028-326">psping outlook.office365.com:443</span></span>
    
  - <span data-ttu-id="ea028-327">psping www.yammer.com:443</span><span class="sxs-lookup"><span data-stu-id="ea028-327">psping www.yammer.com:443</span></span>
    
    ![PSPing 命令會移至 microsoft-my.sharepoint.com 埠443。](media/3258f620-4513-4e82-95c9-06b387fc3a82.PNG)
  
<span data-ttu-id="ea028-329">請務必包含443的埠號碼。</span><span class="sxs-lookup"><span data-stu-id="ea028-329">Be sure to include the port number of 443.</span></span> <span data-ttu-id="ea028-330">請記住，Office 365 是在加密通道上運作。</span><span class="sxs-lookup"><span data-stu-id="ea028-330">Remember that Office 365 works on an encrypted channel.</span></span> <span data-ttu-id="ea028-331">如果您沒有埠號碼 PsPing，您的要求將會失敗。</span><span class="sxs-lookup"><span data-stu-id="ea028-331">If you PsPing without the port number, your request will fail.</span></span> <span data-ttu-id="ea028-332">當您 ping 簡短清單後，請尋找以毫秒為單位的平均時間（毫秒）。</span><span class="sxs-lookup"><span data-stu-id="ea028-332">Once you've pinged your short list, look for the Average time in milliseconds (ms).</span></span> <span data-ttu-id="ea028-333">這就是您想要錄製的專案！</span><span class="sxs-lookup"><span data-stu-id="ea028-333">That is what you want to record!</span></span>
  
![圖形，顯示用戶端對 proxy 的 PSPing，並以2.8 毫秒為單位的往返時間的說明。](media/96901aea-1093-4f1b-b5a3-6078e9035e6c.png)
  
<span data-ttu-id="ea028-335">如果您不熟悉 proxy 旁路，而且喜歡採取逐步的動作，您必須先找出 proxy 伺服器的名稱。</span><span class="sxs-lookup"><span data-stu-id="ea028-335">If you're not familiar with proxy bypass, and prefer to take things step-by-step, you need to first find out the name of your proxy server.</span></span> <span data-ttu-id="ea028-336">在 internet Explorer 中，移至 [**工具** \> **網際網路選項**] [連線 \> **Connections** \> **局域網設定**] [ \> **高級**]。</span><span class="sxs-lookup"><span data-stu-id="ea028-336">In Internet Explorer go to **Tools** \> **Internet Options** \> **Connections** \> **LAN settings** \> **Advanced**.</span></span> <span data-ttu-id="ea028-337">[**高級**] 索引標籤是您會看到所列 proxy 伺服器的所在位置。</span><span class="sxs-lookup"><span data-stu-id="ea028-337">The **Advanced** tab is where you will see your proxy server listed.</span></span> <span data-ttu-id="ea028-338">完成此工作以在命令提示字元上 Ping 該 proxy 伺服器：</span><span class="sxs-lookup"><span data-stu-id="ea028-338">Ping that proxy server at a command prompt by completing this task:</span></span> 
  
 <span data-ttu-id="ea028-339">**Ping proxy 伺服器並取得階段1到2的來回行程值（毫秒）**</span><span class="sxs-lookup"><span data-stu-id="ea028-339">**To ping the proxy server and get a round trip value in milliseconds for stage 1 to 2**</span></span>
  
1. <span data-ttu-id="ea028-340">完成下列步驟以執行提升許可權的命令提示字元：</span><span class="sxs-lookup"><span data-stu-id="ea028-340">Run an elevated command prompt by completing these steps:</span></span>
    
1. <span data-ttu-id="ea028-341">按一下 **[開始]**。</span><span class="sxs-lookup"><span data-stu-id="ea028-341">Click **Start**.</span></span>
    
2. <span data-ttu-id="ea028-342">在 [**開始搜尋**] 方塊中，輸入 cmd，然後按 CTRL+SHIFT+ENTER。</span><span class="sxs-lookup"><span data-stu-id="ea028-342">In the **Start Search** box, type cmd, and then press CTRL+SHIFT+ENTER.</span></span>
    
3. <span data-ttu-id="ea028-343">如果出現 [**使用者帳戶控制**] 對話方塊，請確認顯示的動作為您想要的動作，然後按一下 [**繼續**]。</span><span class="sxs-lookup"><span data-stu-id="ea028-343">If the **User Account Control** dialog box appears, confirm that the action it displays is what you want, and then click **Continue**.</span></span>
    
2. <span data-ttu-id="ea028-344">輸入 ping \<the name of the proxy server your browser uses, or the IP address of the proxy server\> ，然後按 enter 鍵。</span><span class="sxs-lookup"><span data-stu-id="ea028-344">Type ping \<the name of the proxy server your browser uses, or the IP address of the proxy server\> and then press ENTER.</span></span> <span data-ttu-id="ea028-345">如果您已安裝 PsPing 或其他一些工具，您可以選擇改為使用該工具。</span><span class="sxs-lookup"><span data-stu-id="ea028-345">If you have PsPing, or some other tool, installed, you can choose to use that tool instead.</span></span> 
    
    <span data-ttu-id="ea028-346">您的命令可能類似下列其中一個範例：</span><span class="sxs-lookup"><span data-stu-id="ea028-346">Your command may look like any of these examples:</span></span> 
    
  - <span data-ttu-id="ea028-347">ping ourproxy.ourdomain.industry.business.com</span><span class="sxs-lookup"><span data-stu-id="ea028-347">ping ourproxy.ourdomain.industry.business.com</span></span>
    
  - <span data-ttu-id="ea028-348">ping 155.55.121.55</span><span class="sxs-lookup"><span data-stu-id="ea028-348">ping 155.55.121.55</span></span>
    
  - <span data-ttu-id="ea028-349">ping ourproxy</span><span class="sxs-lookup"><span data-stu-id="ea028-349">ping ourproxy</span></span>
    
  - <span data-ttu-id="ea028-350">psping ourproxy.ourdomain.industry.business.com:80</span><span class="sxs-lookup"><span data-stu-id="ea028-350">psping ourproxy.ourdomain.industry.business.com:80</span></span>
    
  - <span data-ttu-id="ea028-351">psping 155.55.121.55：80</span><span class="sxs-lookup"><span data-stu-id="ea028-351">psping 155.55.121.55:80</span></span>
    
  - <span data-ttu-id="ea028-352">psping ourproxy：80</span><span class="sxs-lookup"><span data-stu-id="ea028-352">psping ourproxy:80</span></span>
    
3. <span data-ttu-id="ea028-353">當追蹤停止傳送測試封包時，您會得到一個小摘要，列出平均（毫秒），而這是您所需的值。</span><span class="sxs-lookup"><span data-stu-id="ea028-353">When the trace stops sending test packets, you'll get a small summary that lists an average, in milliseconds, and that's the value you're after.</span></span> <span data-ttu-id="ea028-354">進行提示的螢幕擷取畫面，並使用您的命名慣例加以儲存。</span><span class="sxs-lookup"><span data-stu-id="ea028-354">Take a screen shot of the prompt and save it using your naming convention.</span></span> <span data-ttu-id="ea028-355">此時，它可能也會協助您以該值填滿圖表。</span><span class="sxs-lookup"><span data-stu-id="ea028-355">At this point it may also help to fill in the diagram with the value.</span></span>
    
<span data-ttu-id="ea028-356">也許您已于早上早上進行追蹤，且您的用戶端可以立即到達 proxy （或任何出局伺服器會在網際網路上出口）。</span><span class="sxs-lookup"><span data-stu-id="ea028-356">Maybe you've taken a trace in the early morning, and your client can get to the proxy (or whatever egress server exits to the Internet) quickly.</span></span> <span data-ttu-id="ea028-357">在此情況下，您的號碼可能如下所示：</span><span class="sxs-lookup"><span data-stu-id="ea028-357">In this case, your numbers may look like this:</span></span>
  
![顯示從用戶端到2.8 毫秒 proxy 的來回時間的圖形。](media/1bd03544-23fc-47d4-bbae-c1feb466a5d8.PNG)
  
<span data-ttu-id="ea028-359">如果您的用戶端電腦是對 proxy （或出局）伺服器的存取權之一，您可以透過遠端連線到該電腦來執行下一個測試，執行命令提示字元以從那裡 PsPing 至 Office 365 URL。</span><span class="sxs-lookup"><span data-stu-id="ea028-359">If your client computer is one of the select few with access to the proxy (or egress) server, you can run the next leg of the test by remotely connecting to that computer, running the command prompt to PsPing to an Office 365 URL from there.</span></span> <span data-ttu-id="ea028-360">如果您沒有該電腦的存取權，您可以聯繫網路資源以取得下一個腿的協助，並取得確切的數位。</span><span class="sxs-lookup"><span data-stu-id="ea028-360">If you don't have access to that computer, you can contact your network resources for help with the next leg and get exact numbers that way.</span></span> <span data-ttu-id="ea028-361">若無法進行這項操作，請對問題的 Office 365 URL 採取 PsPing，並對照您的 proxy 伺服器，將其與 PsPing 或 Ping 時間進行比較。</span><span class="sxs-lookup"><span data-stu-id="ea028-361">If that's not possible, take a PsPing against the Office 365 URL in question and compare it to the PsPing or Ping time against your proxy server.</span></span> 
  
<span data-ttu-id="ea028-362">例如，如果用戶端的51.84 毫秒從用戶端到 Office 365 URL，且您從用戶端到 proxy （或出局點）有2.8 毫秒，您就會有從出口到 Office 的365的49.04 毫秒。</span><span class="sxs-lookup"><span data-stu-id="ea028-362">For example, if you have 51.84 milliseconds from the client to the Office 365 URL, and you have 2.8 milliseconds from the client to the proxy (or egress point), then you have 49.04 milliseconds from the egress to Office 365.</span></span> <span data-ttu-id="ea028-363">同樣地，如果您從用戶端到從用戶端到 proxy 的 PsPing 是12.25 毫秒62.01，從用戶端到 Office 365 URL，則 proxy 365 出口的平均值為49.76 毫秒。</span><span class="sxs-lookup"><span data-stu-id="ea028-363">Likewise, if you have a PsPing of 12.25 milliseconds from the client to the proxy during the height of the day, and 62.01 milliseconds from the client to the Office 365 URL, then your average value for the proxy egress to the Office 365 URL is 49.76 milliseconds.</span></span>
  
![其他圖形顯示從用戶端到 Office 365 旁邊的從用戶端到 proxy 的 ping （毫秒），使值可以被扣除。](media/cd764e77-5154-44ba-a5cd-443a628eb2d9.PNG)
  
<span data-ttu-id="ea028-365">從疑難排解的角度來看，您可能會發現，只是保留這些基準很有趣。</span><span class="sxs-lookup"><span data-stu-id="ea028-365">In terms of troubleshooting, you may find something interesting just from keeping these baselines.</span></span> <span data-ttu-id="ea028-366">例如，如果您發現從 proxy 或出局點到 Office 365 URL，您一般會有大約40到59毫秒的延遲，並讓用戶端對大約3到7毫秒（取決於一天中所看到的網路流量量）進行 proxy 或出局點延遲（取決於您一天中所看到的網路流量量）。如果您的最後三個用戶端 proxy 或出局的基準會顯示延遲為45毫秒，您肯定會知道發生問題。</span><span class="sxs-lookup"><span data-stu-id="ea028-366">For example, if you find that you generally have about 40 to 59 milliseconds of latency from the proxy or egress point to the Office 365 URL, and have a client to proxy or egress point latency of about 3 to 7 milliseconds (depending on the amount network traffic you're seeing during that time of day) then you will surely know something is problematic if your last three client to proxy or egress baselines show a latency of 45 milliseconds.</span></span>
  
### <a name="advanced-methods"></a><span data-ttu-id="ea028-367">Advanced 方法</span><span class="sxs-lookup"><span data-stu-id="ea028-367">Advanced methods</span></span>

<span data-ttu-id="ea028-368">如果您確實想要知道您的網際網路要求到 Office 365 的情形，您必須熟悉網路追蹤。</span><span class="sxs-lookup"><span data-stu-id="ea028-368">If you really want to know what is happening with your Internet requests to Office 365, you need to become familiar with network traces.</span></span> <span data-ttu-id="ea028-369">不管您喜歡哪些工具進行這些追蹤，HTTPWatch、Netmon、訊息分析器、Wireshark、Fiddler、開發人員儀表板工具，或任何其他方式都會執行，只要該工具可以捕獲和篩選網路流量。</span><span class="sxs-lookup"><span data-stu-id="ea028-369">It does not matter which tools you prefer for these traces, HTTPWatch, Netmon, Message Analyzer, Wireshark, Fiddler, Developer Dashboard tool or any other will do as long as that tool can capture and filter network traffic.</span></span> <span data-ttu-id="ea028-370">在本節中，您會看到執行這些工具中的多個工具，以取得更完整的問題畫面。</span><span class="sxs-lookup"><span data-stu-id="ea028-370">You'll see in this section that it's beneficial to run more than one of these tools to get a more complete picture of the problem.</span></span> <span data-ttu-id="ea028-371">當您進行測試時，有些工具也會自行充當 proxy。</span><span class="sxs-lookup"><span data-stu-id="ea028-371">When you're testing, some of these tools also act as proxies in their own right.</span></span> <span data-ttu-id="ea028-372">在伴隨文章中使用的工具、 [Office 365 的效能疑難排解計畫](performance-troubleshooting-plan.md)，包括[Netmon 3.4](https://www.microsoft.com/download/details.aspx?id=4865)、 [HTTPWatch](https://www.httpwatch.com/download/)或[WireShark](https://www.wireshark.org/)。</span><span class="sxs-lookup"><span data-stu-id="ea028-372">Tools used in the companion article, [Performance troubleshooting plan for Office 365](performance-troubleshooting-plan.md), include [Netmon 3.4](https://www.microsoft.com/download/details.aspx?id=4865), [HTTPWatch](https://www.httpwatch.com/download/), or [WireShark](https://www.wireshark.org/).</span></span>
  
<span data-ttu-id="ea028-373">效能基準採用此方法的簡單部分，許多步驟與您對效能問題進行疑難排解時相同。</span><span class="sxs-lookup"><span data-stu-id="ea028-373">Taking a performance baseline is the simple part of this method, and many of the steps are the same as when you troubleshoot a performance issue.</span></span> <span data-ttu-id="ea028-374">為效能建立基準的更高級方法，需要您採取和儲存網路追蹤。</span><span class="sxs-lookup"><span data-stu-id="ea028-374">The more advanced methods of creating baselines for performance requires you to take and store network traces.</span></span> <span data-ttu-id="ea028-375">本文中的大部分範例都使用 SharePoint 線上，但是您應該在您訂閱的 Office 365 服務上，建立一般動作的清單，以進行測試及記錄。</span><span class="sxs-lookup"><span data-stu-id="ea028-375">Most of the examples in this article use SharePoint Online, but you should develop a list of common actions across the Office 365 services to which you subscribe to test and record.</span></span> <span data-ttu-id="ea028-376">以下是基線範例：</span><span class="sxs-lookup"><span data-stu-id="ea028-376">Here is a baseline example:</span></span>
  
- <span data-ttu-id="ea028-377">SPO 的比較基準清單-\* \* 步驟1： \* \* 流覽 SPO 網站的首頁，並執行網路追蹤。</span><span class="sxs-lookup"><span data-stu-id="ea028-377">Baseline list for SPO - \*\* Step 1: \*\* Browse the home page of the SPO website and do a network trace.</span></span> <span data-ttu-id="ea028-378">儲存追蹤。</span><span class="sxs-lookup"><span data-stu-id="ea028-378">Save the trace.</span></span> 
    
- <span data-ttu-id="ea028-379">SPO 的比較基準清單-**步驟2：** 透過企業搜尋搜尋字詞（例如公司名稱）並執行網路追蹤。</span><span class="sxs-lookup"><span data-stu-id="ea028-379">Baseline list for SPO - **Step 2:** Search for a term (such as your company name) via Enterprise Search and do a network trace.</span></span> <span data-ttu-id="ea028-380">儲存追蹤。</span><span class="sxs-lookup"><span data-stu-id="ea028-380">Save the trace.</span></span> 
    
- <span data-ttu-id="ea028-381">SPO 的比較基準清單-**步驟3：** 上傳大型檔案至 SharePoint 線上文件庫，並執行網路追蹤。</span><span class="sxs-lookup"><span data-stu-id="ea028-381">Baseline list for SPO - **Step 3:** Upload a large file to a SharePoint Online document library and do a network trace.</span></span> <span data-ttu-id="ea028-382">儲存追蹤。</span><span class="sxs-lookup"><span data-stu-id="ea028-382">Save the trace.</span></span> 
    
- <span data-ttu-id="ea028-383">SPO 的比較基準清單-**步驟4：** 流覽 OneDrive 網站的首頁，並執行網路追蹤。</span><span class="sxs-lookup"><span data-stu-id="ea028-383">Baseline list for SPO - **Step 4:** Browse the home page of the OneDrive website and do a network trace.</span></span> <span data-ttu-id="ea028-384">儲存追蹤。</span><span class="sxs-lookup"><span data-stu-id="ea028-384">Save the trace.</span></span> 
    
<span data-ttu-id="ea028-385">此清單應包含使用者在線上 SharePoint 所採取的最重要一般動作。</span><span class="sxs-lookup"><span data-stu-id="ea028-385">This list should include the most important common actions that users take against SharePoint Online.</span></span> <span data-ttu-id="ea028-386">請注意，最後一個步驟是追蹤進入 OneDrive for Business、內建 SharePoint 線上首頁的負載（通常是由公司自訂）和 OneDrive 商務用首頁（很少自訂）。</span><span class="sxs-lookup"><span data-stu-id="ea028-386">Notice that the last step, to trace going to OneDrive for Business, builds-in a comparison between the load of the SharePoint Online home page (which is often customized by companies) and OneDrive for Business home page, which is seldom customized.</span></span> <span data-ttu-id="ea028-387">這是一種非常基本的測試，涉及速度很慢的 SharePoint 線上網站。</span><span class="sxs-lookup"><span data-stu-id="ea028-387">This is a very basic test when it comes to a slow-loading SharePoint Online site.</span></span> <span data-ttu-id="ea028-388">您可以將此差異的記錄建立到測試中。</span><span class="sxs-lookup"><span data-stu-id="ea028-388">You can build a record of this difference into your testing.</span></span>
  
<span data-ttu-id="ea028-389">如果您正處於效能問題當中，許多步驟都與取得基準時相同。</span><span class="sxs-lookup"><span data-stu-id="ea028-389">If you are in the middle of a performance problem, many of the steps are the same as when taking a baseline.</span></span> <span data-ttu-id="ea028-390">網路追蹤變得很重要，因此我們將處理接下來要採取的重要追蹤*方式*。</span><span class="sxs-lookup"><span data-stu-id="ea028-390">Network traces become critical, so we'll handle  *how*  to take the important traces next.</span></span> 
  
<span data-ttu-id="ea028-391">若要解決效能問題，*現在*您必須在遇到效能問題時進行追蹤。</span><span class="sxs-lookup"><span data-stu-id="ea028-391">To tackle a performance problem,  *right now*  , you need to be taking a trace at the time you are experiencing the performance issue.</span></span> <span data-ttu-id="ea028-392">您必須具有適當的工具來收集記錄，而且您需要一個行動計畫，也就是要採取的疑難排解動作清單，以收集您可以使用的最佳資訊。</span><span class="sxs-lookup"><span data-stu-id="ea028-392">You need to have the proper tools available to gather logs, and you need an action plan, that is, a list of troubleshooting actions to take to gather the best information that you can.</span></span> <span data-ttu-id="ea028-393">您要做的第一件事是記錄測試的日期和時間，使檔案可以儲存在反映該計時的資料夾中。</span><span class="sxs-lookup"><span data-stu-id="ea028-393">The first thing to do is record the date and time of the test so that the files can be saved in a folder that reflect the timing.</span></span> <span data-ttu-id="ea028-394">接下來，向下縮小問題的步驟。</span><span class="sxs-lookup"><span data-stu-id="ea028-394">Next, narrow down to the problem steps themselves.</span></span> <span data-ttu-id="ea028-395">以下是您將用來進行測試的確切步驟。</span><span class="sxs-lookup"><span data-stu-id="ea028-395">These are the exact steps you will use for testing.</span></span> <span data-ttu-id="ea028-396">別忘了基礎：如果問題只是 Outlook 的問題，請務必將問題行為記錄在只有一個 Office 365 服務中發生。</span><span class="sxs-lookup"><span data-stu-id="ea028-396">Don't forget the basics: if the issue is only with Outlook, make sure to record that the problem behavior happens in only one Office 365 service.</span></span> <span data-ttu-id="ea028-397">縮小此問題的範圍，可協助您將注意力集中于您可以解決的問題。</span><span class="sxs-lookup"><span data-stu-id="ea028-397">Narrowing down the scope of this issue will help you to focus on something you can resolve.</span></span> 
  
## <a name="see-also"></a><span data-ttu-id="ea028-398">請參閱</span><span class="sxs-lookup"><span data-stu-id="ea028-398">See also</span></span>

[<span data-ttu-id="ea028-399">管理 Office 365 端點</span><span class="sxs-lookup"><span data-stu-id="ea028-399">Managing Office 365 endpoints</span></span>](https://support.office.com/article/99cab9d4-ef59-4207-9f2b-3728eb46bf9a)

